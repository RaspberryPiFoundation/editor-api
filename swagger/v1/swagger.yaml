# This OpenAPI specification is automatically generated from request specs.
#
# To regenerate:
#   OPENAPI=1 bundle exec rspec spec/requests/
#
# Last generated: 2025-11-27 08:56:02 UTC
---
openapi: 3.0.3
info:
  title: Editor API V1
  version: v1
  description: REST and GraphQL APIs for Raspberry Pi Foundation Code Editor
servers:
- url: http://localhost:3009
  description: Development
paths:
  "/api/default_project":
    get:
      summary: show
      tags:
      - Api::DefaultProject
      responses:
        '200':
          description: returns default project
          content:
            application/json:
              schema:
                type: object
                properties:
                  type:
                    type: string
                  components:
                    type: array
                    items:
                      type: object
                      properties:
                        lang:
                          type: string
                        name:
                          type: string
                        content:
                          type: string
                      required:
                      - lang
                      - name
                      - content
                required:
                - type
                - components
              example:
                type: python
                components:
                - lang: py
                  name: main
                  content: |-
                    import turtle
                    t = turtle.Turtle()
                    t.forward(100)
                    print("Oh yeah!")
  "/api/default_project/html":
    get:
      summary: html
      tags:
      - Api::DefaultProject
      responses:
        '200':
          description: returns default HTML project
          content:
            application/json:
              schema:
                type: object
                properties:
                  type:
                    type: string
                  components:
                    type: array
                    items:
                      type: object
                      properties:
                        lang:
                          type: string
                        name:
                          type: string
                        content:
                          type: string
                      required:
                      - lang
                      - name
                      - content
                required:
                - type
                - components
              example:
                type: html
                components:
                - lang: html
                  name: index
                  content: |
                    <html>
                      <head>
                        <link rel="stylesheet" type="text/css" href="style.css">

                      </head> <body>
                        <h1>Heading</h1>
                        <p>Paragraph</p>
                      </body>
                    </html>
                - lang: css
                  name: style
                  content: |-
                    h1 {
                      color: blue;
                    }
                - lang: css
                  name: test
                  content: |-
                    p {
                      background-color: red;
                    }
  "/api/default_project/python":
    get:
      summary: python
      tags:
      - Api::DefaultProject
      responses:
        '200':
          description: returns default Python project
          content:
            application/json:
              schema:
                type: object
                properties:
                  type:
                    type: string
                  components:
                    type: array
                    items:
                      type: object
                      properties:
                        lang:
                          type: string
                        name:
                          type: string
                        content:
                          type: string
                      required:
                      - lang
                      - name
                      - content
                required:
                - type
                - components
              example:
                type: python
                components:
                - lang: py
                  name: main
                  content: |-
                    import turtle
                    t = turtle.Turtle()
                    t.forward(100)
                    print("Oh yeah!")
  "/api/google/auth/exchange-code":
    post:
      summary: exchange_code
      tags:
      - Api::GoogleAuth
      parameters:
      - name: Authorization
        in: header
        required: true
        schema:
          type: string
        example: fake-user-access-token
      responses:
        '200':
          description: returns success response
          content:
            application/json:
              schema:
                type: object
                properties:
                  access_token:
                    type: string
                  expires_in:
                    type: integer
                  token_type:
                    type: string
                  scope:
                    type: string
                required:
                - access_token
                - expires_in
                - token_type
                - scope
              example:
                access_token: test-access-token
                expires_in: 3599
                token_type: Bearer
                scope: email profile
        '400':
          description: returns bad request response
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: string
                required:
                - error
              example:
                error: 'ActionController::ParameterMissing: param is missing or the
                  value is empty: redirect_uri'
        '401':
          description: returns unauthorized response
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: string
                required:
                - error
              example:
                error: Unauthorized
        '403':
          description: returns forbidden response
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: string
                required:
                - error
              example:
                error: 'CanCan::AccessDenied: You are not authorized to access this
                  page.'
        '503':
          description: returns error message
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: string
                required:
                - error
              example:
                error: Connection failed
      requestBody:
        content:
          application/x-www-form-urlencoded:
            schema:
              type: object
              properties:
                google_auth:
                  type: object
                  properties:
                    code:
                      type: string
                    redirect_uri:
                      type: string
                  required:
                  - code
                  - redirect_uri
              required:
              - google_auth
            example:
              google_auth:
                code: test-authorization-code
                redirect_uri: https://example.com/callback
  "/api/lessons":
    get:
      summary: index
      tags:
      - Api::Lesson
      parameters:
      - name: Authorization
        in: header
        required: true
        schema:
          type: string
        example: fake-user-access-token
      - name: include_archived
        in: query
        required: false
        schema:
          type: string
        example: 'true'
      - name: school_class_id
        in: query
        required: false
        schema:
          type: string
        example: cd86f1ea-0564-43fe-a167-d4d2cfbe9633
      responses:
        '200':
          description: includes the lesson when the user owns the lesson
          content:
            application/json:
              schema:
                type: array
                items:
                  type: object
                  properties:
                    id:
                      type: string
                    school_id:
                      type: string
                      nullable: true
                    school_class_id:
                      type: string
                      nullable: true
                    copied_from_id:
                      nullable: true
                    user_id:
                      type: string
                    name:
                      type: string
                    description:
                      type: string
                    visibility:
                      type: string
                    due_date:
                      nullable: true
                    archived_at:
                      nullable: true
                      type: string
                    created_at:
                      type: string
                    updated_at:
                      type: string
                    project:
                      type: object
                      properties:
                        identifier:
                          type: string
                        project_type:
                          type: string
                      required:
                      - identifier
                      - project_type
                    user_name:
                      type: string
                      nullable: true
                    submitted_count:
                      type: integer
                    remix_identifier:
                      type: string
                  required:
                  - id
                  - school_id
                  - school_class_id
                  - copied_from_id
                  - user_id
                  - name
                  - description
                  - visibility
                  - due_date
                  - archived_at
                  - created_at
                  - updated_at
                  - project
                  - user_name
              example:
              - id: ae907029-d1f3-427d-a39e-ea95f7cb6598
                school_id: 
                school_class_id: 
                copied_from_id: 
                user_id: 60668360-47ce-455c-844c-071af4579d67
                name: Test Lesson
                description: Description
                visibility: private
                due_date: 
                archived_at: 
                created_at: '2025-11-27T08:56:11.977Z'
                updated_at: '2025-11-27T08:56:11.979Z'
                project:
                  identifier: test-lesson-9ee298a2-a5a7-4220-964c-a59d145c4bc4
                  project_type: python
                user_name: Rev. Shaquita Kiehn
    post:
      summary: create
      tags:
      - Api::Lesson
      parameters:
      - name: Authorization
        in: header
        required: true
        schema:
          type: string
        example: fake-user-access-token
      responses:
        '201':
          description: responds 201 Created when the user is a school-teacher for
            the school
          content:
            application/json:
              schema:
                type: object
                properties:
                  id:
                    type: string
                  school_id:
                    nullable: true
                    type: string
                  school_class_id:
                    nullable: true
                    type: string
                  copied_from_id:
                    nullable: true
                  user_id:
                    type: string
                  name:
                    type: string
                  description:
                    nullable: true
                  visibility:
                    type: string
                  due_date:
                    nullable: true
                  archived_at:
                    nullable: true
                  created_at:
                    type: string
                  updated_at:
                    type: string
                  project:
                    type: object
                    properties:
                      identifier:
                        type: string
                      project_type:
                        type: string
                    required:
                    - identifier
                    - project_type
                  user_name:
                    type: string
                required:
                - id
                - school_id
                - school_class_id
                - copied_from_id
                - user_id
                - name
                - description
                - visibility
                - due_date
                - archived_at
                - created_at
                - updated_at
                - project
                - user_name
              example:
                id: 14ed853c-ee3b-4972-945d-f451de56ca6e
                school_id: 7088c1b1-7810-4a3c-9d04-41986cbc0a93
                school_class_id: 
                copied_from_id: 
                user_id: c9ce9248-c3b5-4dfe-8da7-a62570489e4b
                name: Test Lesson
                description: 
                visibility: teachers
                due_date: 
                archived_at: 
                created_at: '2025-11-27T08:56:14.779Z'
                updated_at: '2025-11-27T08:56:14.779Z'
                project:
                  identifier: stuck-lurch-trait
                  project_type: python
                user_name: Taneka Schulist
        '401':
          description: responds 401 Unauthorized when no token is given
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: string
                required:
                - error
              example:
                error: Unauthorized
        '403':
          description: responds 403 Forbidden when the user is a school-owner for
            a different school
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: string
                required:
                - error
              example:
                error: 'CanCan::AccessDenied: You are not authorized to access this
                  page.'
        '422':
          description: responds 422 Unprocessable if school_class_id does not correspond
            to school_id
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: string
                required:
                - error
              example:
                error: 'ParameterError: school_class_id does not correspond to school_id'
      requestBody:
        content:
          application/x-www-form-urlencoded:
            schema:
              type: object
              properties:
                lesson:
                  type: object
                  properties:
                    name:
                      type: string
                    project_attributes:
                      type: object
                      properties:
                        name:
                          type: string
                        project_type:
                          type: string
                        components:
                          type: array
                          items:
                            type: object
                            properties:
                              name:
                                type: string
                              extension:
                                type: string
                              content:
                                type: string
                            required:
                            - name
                            - extension
                            - content
                      required:
                      - name
                      - project_type
                      - components
                    school_id:
                      type: string
                    school_class_id:
                      type: string
                    user_id:
                      type: string
                  required:
                  - name
                  - project_attributes
              required:
              - lesson
            example:
              lesson:
                name: Test Lesson
                project_attributes:
                  name: Hello world project
                  project_type: python
                  components:
                  - name: main.py
                    extension: py
                    content: print("Hello, world!")
                school_id: 7088c1b1-7810-4a3c-9d04-41986cbc0a93
                school_class_id: d92c51e9-dda6-47ba-99e7-65b66144b9e5
                user_id: ignored
  "/api/lessons/{id}":
    delete:
      summary: destroy
      tags:
      - Api::Lesson
      parameters:
      - name: Authorization
        in: header
        required: true
        schema:
          type: string
        example: fake-user-access-token
      - name: id
        in: path
        required: true
        schema:
          type: string
        example: 8ec6c322-2708-44b8-be06-7ac1abeb443e
      - name: undo
        in: query
        required: false
        schema:
          type: string
        example: 'true'
      responses:
        '204':
          description: responds 204 No Content when the user is a school-owner
        '401':
          description: responds 401 Unauthorized when no token is given
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: string
                required:
                - error
              example:
                error: Unauthorized
        '403':
          description: responds 403 Forbidden when the user a school-owner but visibility
            is 'private'
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: string
                required:
                - error
              example:
                error: 'CanCan::AccessDenied: You are not authorized to access this
                  page.'
    get:
      summary: show
      tags:
      - Api::Lesson
      parameters:
      - name: Authorization
        in: header
        required: true
        schema:
          type: string
        example: fake-user-access-token
      - name: id
        in: path
        required: true
        schema:
          type: string
        example: 4b9ca666-8ab7-4c5b-81be-e1381a7273ac
      responses:
        '200':
          description: responds 200 OK when the user is a school-student within the
            lesson's class
          content:
            application/json:
              schema:
                type: object
                properties:
                  id:
                    type: string
                  school_id:
                    nullable: true
                    type: string
                  school_class_id:
                    nullable: true
                    type: string
                  copied_from_id:
                    nullable: true
                  user_id:
                    type: string
                  name:
                    type: string
                  description:
                    type: string
                  visibility:
                    type: string
                  due_date:
                    nullable: true
                  archived_at:
                    nullable: true
                  created_at:
                    type: string
                  updated_at:
                    type: string
                  project:
                    type: object
                    properties:
                      identifier:
                        type: string
                      project_type:
                        type: string
                    required:
                    - identifier
                    - project_type
                  user_name:
                    type: string
                    nullable: true
                required:
                - id
                - school_id
                - school_class_id
                - copied_from_id
                - user_id
                - name
                - description
                - visibility
                - due_date
                - archived_at
                - created_at
                - updated_at
                - project
                - user_name
              example:
                id: 355de7b5-6b52-41cd-8907-b77e97dd0219
                school_id: 89f5aad8-1e26-4a53-bbea-b446dfa07b92
                school_class_id: 44ccc353-f8f6-42ef-b75a-b792be9f04ed
                copied_from_id: 
                user_id: 2ec4dd63-ae94-4d6c-8ff0-30e99fc50e8e
                name: Test Lesson
                description: Description
                visibility: students
                due_date: 
                archived_at: 
                created_at: '2025-11-27T08:56:06.844Z'
                updated_at: '2025-11-27T08:56:06.844Z'
                project:
                  identifier: test-lesson-2ec4dd63-ae94-4d6c-8ff0-30e99fc50e8e
                  project_type: python
                user_name: Prof. Arturo Boyer
        '403':
          description: responds 403 Forbidden when the user is a school-owner for
            a different school
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: string
                required:
                - error
              example:
                error: 'CanCan::AccessDenied: You are not authorized to access this
                  page.'
        '404':
          description: responds 404 Not Found when no lesson exists
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: string
                required:
                - error
              example:
                error: 'ActiveRecord::RecordNotFound: Couldn''t find Lesson with ''id''="not-a-real-id"'
    put:
      summary: update
      tags:
      - Api::Lesson
      parameters:
      - name: Authorization
        in: header
        required: true
        schema:
          type: string
        example: fake-user-access-token
      - name: id
        in: path
        required: true
        schema:
          type: string
        example: ae978b4f-6cac-437f-acb2-ef641af20031
      responses:
        '200':
          description: responds 200 OK when the user is a school-owner
          content:
            application/json:
              schema:
                type: object
                properties:
                  id:
                    type: string
                  school_id:
                    nullable: true
                    type: string
                  school_class_id:
                    nullable: true
                    type: string
                  copied_from_id:
                    nullable: true
                  user_id:
                    type: string
                  name:
                    type: string
                  description:
                    type: string
                  visibility:
                    type: string
                  due_date:
                    nullable: true
                  archived_at:
                    nullable: true
                  created_at:
                    type: string
                  updated_at:
                    type: string
                  project:
                    type: object
                    properties:
                      identifier:
                        type: string
                      project_type:
                        type: string
                    required:
                    - identifier
                    - project_type
                  user_name:
                    type: string
                required:
                - id
                - school_id
                - school_class_id
                - copied_from_id
                - user_id
                - name
                - description
                - visibility
                - due_date
                - archived_at
                - created_at
                - updated_at
                - project
                - user_name
              example:
                id: e15a8d34-b3ab-4d28-bd94-5d1d5faa004d
                school_id: 55bfad3c-7201-4e41-9dc2-bb8c80b7a70d
                school_class_id: 
                copied_from_id: 
                user_id: 22f4a4db-6392-4efc-b811-b1abdc906693
                name: New Name
                description: Description
                visibility: teachers
                due_date: 
                archived_at: 
                created_at: '2025-11-27T08:56:15.322Z'
                updated_at: '2025-11-27T08:56:15.334Z'
                project:
                  identifier: test-lesson-e0e415d9-970d-497c-9417-25401e2931f7
                  project_type: python
                user_name: School Owner
        '401':
          description: responds 401 Unauthorized when no token is given
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: string
                required:
                - error
              example:
                error: Unauthorized
        '403':
          description: responds 403 Forbidden when the user a school-owner but visibility
            is 'private'
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: string
                required:
                - error
              example:
                error: 'CanCan::AccessDenied: You are not authorized to access this
                  page.'
        '422':
          description: responds 422 Unprocessable Entity when trying to re-assign
            the lesson to a different class
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: string
                required:
                - error
              example:
                error: 'Error updating lesson: User ''be20a3a3-3485-43cb-b19e-c7ca3c0cff09''
                  is not the ''school-teacher'' for school_class ''167e74c1-f859-4523-89ca-dcaee144ce9a'''
      requestBody:
        content:
          application/x-www-form-urlencoded:
            schema:
              type: object
              properties:
                lesson:
                  type: object
                  properties:
                    name:
                      type: string
                    school_class_id:
                      type: string
                  required:
                  - name
              required:
              - lesson
            example:
              lesson:
                name: New Name
                school_class_id: da6382c7-40ff-4468-8ed4-de9a5a0ac95b
  "/api/lessons/{id}/copy":
    post:
      summary: create_copy
      tags:
      - Api::Lesson
      parameters:
      - name: Authorization
        in: header
        required: true
        schema:
          type: string
        example: fake-user-access-token
      - name: id
        in: path
        required: true
        schema:
          type: string
        example: 93407b93-16ce-4444-92f5-f8c3c1a6b0e7
      requestBody:
        content:
          application/x-www-form-urlencoded:
            schema:
              type: object
              properties:
                lesson:
                  type: object
                  properties:
                    name:
                      type: string
                    visibility:
                      type: string
                    user_id:
                      type: string
            example:
              lesson:
                name: New Name
                visibility: public
                user_id: 4460bcd7-7cfe-4e61-8b48-9070046dd8f1
      responses:
        '201':
          description: responds 201 Created when the user owns the lesson
          content:
            application/json:
              schema:
                type: object
                properties:
                  id:
                    type: string
                  school_id:
                    nullable: true
                  school_class_id:
                    nullable: true
                  copied_from_id:
                    type: string
                  user_id:
                    type: string
                  name:
                    type: string
                  description:
                    type: string
                  visibility:
                    type: string
                  due_date:
                    nullable: true
                  archived_at:
                    nullable: true
                  created_at:
                    type: string
                  updated_at:
                    type: string
                  project:
                    type: object
                    properties:
                      identifier:
                        type: string
                      project_type:
                        type: string
                    required:
                    - identifier
                    - project_type
                  user_name:
                    type: string
                required:
                - id
                - school_id
                - school_class_id
                - copied_from_id
                - user_id
                - name
                - description
                - visibility
                - due_date
                - archived_at
                - created_at
                - updated_at
                - project
                - user_name
              example:
                id: 3be8f371-8645-4f9a-a149-ae3e8fb0330a
                school_id: 
                school_class_id: 
                copied_from_id: 93407b93-16ce-4444-92f5-f8c3c1a6b0e7
                user_id: '0845a44f-fda6-4bab-843a-d44553d076b9'
                name: Test Lesson
                description: Description
                visibility: teachers
                due_date: 
                archived_at: 
                created_at: '2025-11-27T08:56:14.376Z'
                updated_at: '2025-11-27T08:56:14.376Z'
                project:
                  identifier: froze-desk-fox
                  project_type: python
                user_name: Carmelina Farrell
        '401':
          description: responds 401 Unauthorized when no token is given
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: string
                required:
                - error
              example:
                error: Unauthorized
        '403':
          description: responds 403 Forbidden when the user does not own the lesson
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: string
                required:
                - error
              example:
                error: 'CanCan::AccessDenied: You are not authorized to access this
                  page.'
        '422':
          description: responds 422 Unprocessable Entity when params are invalid
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: string
                required:
                - error
              example:
                error: 'Error creating copy of lesson: Name can''t be blank'
  "/api/project_errors":
    post:
      summary: create
      tags:
      - Api::ProjectError
      requestBody:
        content:
          application/x-www-form-urlencoded:
            schema:
              type: object
              properties:
                error:
                  type: string
                error_type:
                  type: string
                  nullable: true
                user_id:
                  type: string
                project_id:
                  type: string
                project:
                  type: string
              required:
              - error
              - error_type
            example:
              error: some random test error message
              error_type: TestError
              user_id: e0675b6c-dc48-4cd6-8c04-0f7ac05af51a
              project_id: solve-scream-weave
              project: some-made-up-slug
      responses:
        '201':
          description: creates an error
          content:
            application/json:
              schema:
                type: object
                properties:
                  data:
                    type: object
                    properties:
                      id:
                        type: string
                      project_id:
                        nullable: true
                        type: string
                      error:
                        type: string
                      error_type:
                        type: string
                        nullable: true
                      user_id:
                        nullable: true
                        type: string
                      created_at:
                        type: string
                      updated_at:
                        type: string
                    required:
                    - id
                    - project_id
                    - error
                    - error_type
                    - user_id
                    - created_at
                    - updated_at
                required:
                - data
              example:
                data:
                  id: 22b3ddfb-1358-4cdc-8a50-4a25dbcf82b8
                  project_id: 
                  error: some random test error message
                  error_type: TestError
                  user_id: 
                  created_at: '2025-11-27T08:56:21.660Z'
                  updated_at: '2025-11-27T08:56:21.660Z'
        '400':
          description: returns an empty body data object
          content:
            application/json:
              schema:
                type: object
                properties:
                  data:
                    type: array
                    items: {}
                  error:
                    type: string
                required:
                - data
                - error
              example:
                data: []
                error: 'Validation failed: Error can''t be blank'
  "/api/projects":
    get:
      summary: index
      tags:
      - Api::Project
      parameters:
      - name: Authorization
        in: header
        required: true
        schema:
          type: string
        example: fake-user-access-token
      - name: page
        in: query
        required: false
        schema:
          type: integer
        example: 2
      responses:
        '200':
          description: has the correct response headers for the next page
          content:
            application/json:
              schema:
                type: array
                items:
                  type: object
                  properties:
                    identifier:
                      type: string
                    project_type:
                      type: string
                    name:
                      type: string
                    user_id:
                      type: string
                    updated_at:
                      type: string
                  required:
                  - identifier
                  - project_type
                  - name
                  - user_id
                  - updated_at
              example:
              - identifier: act-act-control
                project_type: python
                name: East of Eden
                user_id: f8f3a358-8ee7-4a34-9e72-79a070db6417
                updated_at: '2025-11-27T08:56:07.888Z'
              - identifier: grab-curb-astonish
                project_type: python
                name: Carrion Comfort
                user_id: f8f3a358-8ee7-4a34-9e72-79a070db6417
                updated_at: '2025-11-27T08:56:07.886Z'
              - identifier: dream-swot-suggest
                project_type: python
                name: Shall not Perish
                user_id: f8f3a358-8ee7-4a34-9e72-79a070db6417
                updated_at: '2025-11-27T08:56:07.884Z'
              - identifier: string-manage-mow
                project_type: python
                name: In a Dry Season
                user_id: f8f3a358-8ee7-4a34-9e72-79a070db6417
                updated_at: '2025-11-27T08:56:07.881Z'
        '401':
          description: returns unauthorized
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: string
                required:
                - error
              example:
                error: Unauthorized
    post:
      summary: create
      tags:
      - Api::Project
      parameters:
      - name: Authorization
        in: header
        required: true
        schema:
          type: string
        example: fake-user-access-token
      requestBody:
        content:
          application/x-www-form-urlencoded:
            schema:
              type: object
              properties:
                project:
                  type: object
                  properties:
                    name:
                      type: string
                    components:
                      type: array
                      items:
                        type: string
                        properties:
                          name:
                            type: string
                          extension:
                            type: string
                          content:
                            type: string
                        required:
                        - name
                        - extension
                        - content
                    identifier:
                      type: string
                    locale:
                      type: string
                    project_type:
                      type: string
                    user_id:
                      nullable: true
                      type: string
                    school_id:
                      type: string
                    lesson_id:
                      type: string
                  required:
                  - components
            example:
              project:
                name: Test Project
                components:
                - ''
                identifier: test-project
                locale: fr
                project_type: scratch
                user_id: ca8888a6-efd5-4ea6-8ed2-bf9f8539fe44
                school_id: 8a2bb567-f371-4e37-876d-0ff7530921b7
                lesson_id: 5c3c24e0-9ef9-44e3-9bcb-ee17b47d24f3
      responses:
        '201':
          description: returns success
          content:
            application/json:
              schema:
                type: object
                properties:
                  identifier:
                    type: string
                  project_type:
                    type: string
                  locale:
                    nullable: true
                    type: string
                  name:
                    type: string
                    nullable: true
                  user_id:
                    type: string
                    nullable: true
                  instructions:
                    nullable: true
                  components:
                    type: array
                    items:
                      type: object
                      properties:
                        id:
                          type: string
                        name:
                          type: string
                        extension:
                          type: string
                        content:
                          type: string
                      required:
                      - id
                      - name
                      - extension
                      - content
                  image_list:
                    type: array
                    items: {}
                  videos:
                    type: array
                    items: {}
                  audio:
                    type: array
                    items: {}
                required:
                - identifier
                - project_type
                - locale
                - name
                - user_id
                - instructions
                - components
                - image_list
                - videos
                - audio
              example:
                identifier: incise-remove-kid
                project_type: python
                locale: es-LA
                name: A Many-Splendoured Thing
                user_id: cd0165f0-1fc4-4682-97f0-0a7ce1c6d5be
                instructions: 
                components: []
                image_list: []
                videos: []
                audio: []
        '401':
          description: returns unauthorized
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: string
                required:
                - error
              example:
                error: Unauthorized
        '403':
          description: responds 403 Forbidden when the current user is not the owner
            of the lesson
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: string
                required:
                - error
              example:
                error: 'CanCan::AccessDenied: You are not authorized to access this
                  page.'
        '422':
          description: returns error
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: string
                required:
                - error
              example:
                error: Error creating project
  "/api/projects/{id}":
    delete:
      summary: destroy
      tags:
      - Api::Project
      parameters:
      - name: Authorization
        in: header
        required: true
        schema:
          type: string
        example: fake-user-access-token
      - name: id
        in: path
        required: true
        schema:
          type: string
        example: project-identifier
      responses:
        '200':
          description: deletes user's project
          content:
            text/html:
              schema:
                type: string
              example: ''
        '401':
          description: returns unauthorized
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: string
                required:
                - error
              example:
                error: Unauthorized
        '403':
          description: returns forbidden
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: string
                required:
                - error
              example:
                error: 'CanCan::AccessDenied: You are not authorized to access this
                  page.'
    get:
      summary: show
      tags:
      - Api::Project
      parameters:
      - name: Authorization
        in: header
        required: true
        schema:
          type: string
        example: fake-user-access-token
      - name: id
        in: path
        required: true
        schema:
          type: string
        example: obey-exclude-corrupt
      - name: locale
        in: query
        required: false
        schema:
          type: string
        example: ja-JP
      responses:
        '200':
          description: returns success response
          content:
            application/json:
              schema:
                type: object
                properties:
                  identifier:
                    type: string
                  project_type:
                    type: string
                  locale:
                    type: string
                    nullable: true
                  name:
                    type: string
                  user_id:
                    nullable: true
                    type: string
                  instructions:
                    nullable: true
                    type: string
                  components:
                    type: array
                    items: {}
                  image_list:
                    type: array
                    items: {}
                  videos:
                    type: array
                    items: {}
                  audio:
                    type: array
                    items: {}
                  parent:
                    type: object
                    properties:
                      name:
                        type: string
                      identifier:
                        type: string
                    required:
                    - name
                    - identifier
                  user_name:
                    type: string
                required:
                - identifier
                - project_type
                - locale
                - name
                - user_id
                - instructions
                - components
                - image_list
                - videos
                - audio
              example:
                identifier: obey-exclude-corrupt
                project_type: python
                locale: ja-JP
                name: O Jerusalem!
                user_id: 
                instructions: 
                components: []
                image_list: []
                videos: []
                audio: []
                parent:
                  name: The Daffodil Sky
                  identifier: consort-survive-murmur
                user_name: Joe Bloggs
        '403':
          description: does not return the project json
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: string
                required:
                - error
              example:
                error: 'CanCan::AccessDenied: You are not authorized to access this
                  page.'
        '404':
          description: returns 404 response if invalid project
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: string
                required:
                - error
              example:
                error: 'ActiveRecord::RecordNotFound: Couldn''t find Project with
                  ''id''="no-such-project"'
    put:
      summary: update
      tags:
      - Api::Project
      parameters:
      - name: Authorization
        in: header
        required: true
        schema:
          type: string
        example: fake-user-access-token
      - name: id
        in: path
        required: true
        schema:
          type: string
        example: recur-partake-please
      requestBody:
        content:
          application/x-www-form-urlencoded:
            schema:
              type: object
              properties:
                project:
                  type: object
                  properties:
                    name:
                      type: string
                    components:
                      type: array
                      items:
                        type: object
                        properties:
                          name:
                            type: string
                          extension:
                            type: string
                          content:
                            type: string
                          id:
                            type: string
                        required:
                        - name
                        - extension
                        - content
                    instructions:
                      type: string
              required:
              - project
            example:
              project:
                name: updated project name
                components:
                - id: f1eeca4c-80ea-4bb8-84cb-2065f28eb2df
                  name: main
                  content: Laudantium labore numquam. Et minus voluptatem. Tempora
                    reiciendis hic.
                  extension: py
                - id: 7988a98d-1a21-4979-bce9-5ac2fdabda9f
                  name: updated
                  extension: py
                  content: updated component content
                instructions: updated instructions
      responses:
        '200':
          description: returns json with updated project name
          content:
            application/json:
              schema:
                type: object
                properties:
                  identifier:
                    type: string
                  project_type:
                    type: string
                  locale:
                    type: string
                    nullable: true
                  name:
                    type: string
                  user_id:
                    type: string
                    nullable: true
                  instructions:
                    nullable: true
                    type: string
                  components:
                    type: array
                    items:
                      type: object
                      properties:
                        id:
                          type: string
                        name:
                          type: string
                        extension:
                          type: string
                        content:
                          type: string
                      required:
                      - id
                      - name
                      - extension
                      - content
                  image_list:
                    type: array
                    items: {}
                  videos:
                    type: array
                    items: {}
                  audio:
                    type: array
                    items: {}
                  parent:
                    type: object
                    properties:
                      name:
                        type: string
                      identifier:
                        type: string
                    required:
                    - name
                    - identifier
                required:
                - identifier
                - project_type
                - locale
                - name
                - user_id
                - instructions
                - components
                - image_list
                - videos
                - audio
              example:
                identifier: boil-contrast-confuse
                project_type: python
                locale: 
                name: updated project name
                user_id: 44bfb5ae-74b8-4827-a9ba-0d8add1fc064
                instructions: 
                components:
                - id: e2b29948-b84c-45ed-88c7-76065baeb03a
                  name: main
                  extension: py
                  content: Doloribus doloremque ut. Et dolor possimus. Aliquam accusantium
                    qui.
                - id: 45b09093-7bb5-4ff2-b9c2-1b7dbb17e4a6
                  name: quos
                  extension: py
                  content: Facere deserunt illum. Officia fuga quibusdam. Tempore
                    commodi et.
                image_list: []
                videos: []
                audio: []
                parent:
                  name: The Road Less Traveled
                  identifier: cower-cure-ring
        '401':
          description: returns unauthorized
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: string
                required:
                - error
              example:
                error: Unauthorized
        '403':
          description: returns forbidden response
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: string
                required:
                - error
              example:
                error: 'CanCan::AccessDenied: You are not authorized to access this
                  page.'
        '422':
          description: returns error response
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: string
                required:
                - error
              example:
                error: Cannot delete default file
  "/api/projects/{id}/complete":
    post:
      summary: complete
      tags:
      - Api::SchoolProject
      parameters:
      - name: Authorization
        in: header
        required: true
        schema:
          type: string
        example: fake-user-access-token
      - name: id
        in: path
        required: true
        schema:
          type: string
        example: does-not-exist
      responses:
        '200':
          description: completes success response
          content:
            application/json:
              schema:
                type: object
                properties:
                  id:
                    type: string
                  school_id:
                    type: string
                  project_id:
                    type: string
                  status:
                    type: string
                  identifier:
                    type: string
                required:
                - id
                - school_id
                - project_id
                - status
                - identifier
              example:
                id: c6a78f75-e110-432f-b33a-6ac3e54adf7e
                school_id: 31d8e7d0-8d67-49ab-bd3d-afad9aa64b52
                project_id: db0066f9-3865-4ef4-91e0-88400eaff8fd
                status: complete
                identifier: consecrate-triumph-blow
        '403':
          description: completes forbidden response
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: string
                required:
                - error
              example:
                error: 'CanCan::AccessDenied: You are not authorized to access this
                  page.'
        '404':
          description: completes not found response
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: string
                required:
                - error
              example:
                error: 'ActiveRecord::RecordNotFound: Couldn''t find Project with
                  [WHERE "projects"."identifier" = $1]'
        '422':
          description: completes unauthorized response
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: string
                required:
                - error
              example:
                error: Cannot transition from 'complete' to 'complete'
      requestBody:
        content:
          application/x-www-form-urlencoded:
            schema:
              type: object
              properties: {}
            example: {}
  "/api/projects/{id}/context":
    get:
      summary: show_context
      tags:
      - Api::Project
      parameters:
      - name: Authorization
        in: header
        required: true
        schema:
          type: string
        example: fake-user-access-token
      - name: id
        in: path
        required: true
        schema:
          type: string
        example: proceed-empower-delete
      responses:
        '200':
          description: returns success response
          content:
            application/json:
              schema:
                type: object
                properties:
                  identifier:
                    type: string
                  project_type:
                    type: string
                  school_id:
                    type: string
                  lesson_id:
                    type: string
                  class_id:
                    type: string
                required:
                - identifier
                - project_type
                - school_id
                - lesson_id
                - class_id
              example:
                identifier: illustrate-spread-zoom
                project_type: python
                school_id: 92d6489b-6aae-4e01-917b-a271346a3e38
                lesson_id: 117681ec-83fe-4451-9d91-1a7a720f7743
                class_id: ae7e65aa-5d7c-4f6c-9c4e-9307c4eeefb6
        '403':
          description: does not return the project context json
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: string
                required:
                - error
              example:
                error: 'CanCan::AccessDenied: You are not authorized to access this
                  page.'
  "/api/projects/{id}/finished":
    get:
      summary: show_finished
      tags:
      - Api::SchoolProject
      parameters:
      - name: Authorization
        in: header
        required: true
        schema:
          type: string
        example: fake-user-access-token
      - name: id
        in: path
        required: true
        schema:
          type: string
        example: tend-spell-evaporate
      responses:
        '200':
          description: returns response containing correct school project data
          content:
            application/json:
              schema:
                type: object
                properties:
                  id:
                    type: string
                  school_id:
                    type: string
                  project_id:
                    type: string
                  finished:
                    type: boolean
                  identifier:
                    type: string
                required:
                - id
                - school_id
                - project_id
                - finished
                - identifier
              example:
                id: 5fa6840c-93be-458c-bd67-bbc2cb167ede
                school_id: 96a2092c-db91-4e50-9e64-39fabd0bba64
                project_id: a6661541-1c09-49b9-b82d-fd57716e0914
                finished: true
                identifier: want-guard-disobey
        '403':
          description: returns forbidden response
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: string
                required:
                - error
              example:
                error: 'CanCan::AccessDenied: You are not authorized to access this
                  page.'
        '404':
          description: returns not found response
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: string
                required:
                - error
              example:
                error: 'ActiveRecord::RecordNotFound: Couldn''t find Project with
                  [WHERE "projects"."identifier" = $1]'
    put:
      summary: set_finished
      tags:
      - Api::SchoolProject
      parameters:
      - name: Authorization
        in: header
        required: true
        schema:
          type: string
        example: fake-user-access-token
      - name: id
        in: path
        required: true
        schema:
          type: string
        example: refuse-manage-milk
      responses:
        '200':
          description: returns success response
          content:
            application/json:
              schema:
                type: object
                properties:
                  id:
                    type: string
                  school_id:
                    type: string
                  project_id:
                    type: string
                  finished:
                    type: boolean
                  identifier:
                    type: string
                required:
                - id
                - school_id
                - project_id
                - finished
                - identifier
              example:
                id: a4cce738-4ae9-47bf-b3ee-debd61976b57
                school_id: 52a907e3-391f-4bfd-94ad-10cc2179ec71
                project_id: 25286972-ebb7-44f8-9517-16be8869c296
                finished: true
                identifier: spoil-plot-see
        '403':
          description: does not change the finished flag
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: string
                required:
                - error
              example:
                error: 'CanCan::AccessDenied: You are not authorized to access this
                  page.'
        '404':
          description: returns not found response
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: string
                required:
                - error
              example:
                error: 'ActiveRecord::RecordNotFound: Couldn''t find Project with
                  [WHERE "projects"."identifier" = $1]'
      requestBody:
        content:
          application/x-www-form-urlencoded:
            schema:
              type: object
              properties:
                finished:
                  type: string
              required:
              - finished
            example:
              finished: 'true'
  "/api/projects/{id}/return":
    post:
      summary: return
      tags:
      - Api::SchoolProject
      parameters:
      - name: Authorization
        in: header
        required: true
        schema:
          type: string
        example: fake-user-access-token
      - name: id
        in: path
        required: true
        schema:
          type: string
        example: indicate-impart-prepare
      requestBody:
        content:
          application/x-www-form-urlencoded:
            schema:
              type: object
              properties: {}
            example: {}
      responses:
        '200':
          description: returns the school project json
          content:
            application/json:
              schema:
                type: object
                properties:
                  id:
                    type: string
                  school_id:
                    type: string
                  project_id:
                    type: string
                  status:
                    type: string
                  identifier:
                    type: string
                required:
                - id
                - school_id
                - project_id
                - status
                - identifier
              example:
                id: 63c09fd0-873f-411c-bcec-a9323e83669d
                school_id: c7e8b11e-7f32-469e-bcd7-790f706d1d56
                project_id: 42e4bf6d-fad9-4e08-b65a-5892f288d1d7
                status: returned
                identifier: subscribe-occupy-crowd
        '403':
          description: does not change the status
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: string
                required:
                - error
              example:
                error: 'CanCan::AccessDenied: You are not authorized to access this
                  page.'
        '404':
          description: returns not found response
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: string
                required:
                - error
              example:
                error: 'ActiveRecord::RecordNotFound: Couldn''t find Project with
                  [WHERE "projects"."identifier" = $1]'
        '422':
          description: returns error message
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: string
                required:
                - error
              example:
                error: Cannot transition from 'unsubmitted' to 'returned'
  "/api/projects/{id}/status":
    get:
      summary: show_status
      tags:
      - Api::SchoolProject
      parameters:
      - name: Authorization
        in: header
        required: true
        schema:
          type: string
        example: fake-user-access-token
      - name: id
        in: path
        required: true
        schema:
          type: string
        example: diminish-live-mew
      responses:
        '200':
          description: returns the school project json
          content:
            application/json:
              schema:
                type: object
                properties:
                  id:
                    type: string
                  school_id:
                    type: string
                  project_id:
                    type: string
                  status:
                    type: string
                  identifier:
                    type: string
                required:
                - id
                - school_id
                - project_id
                - status
                - identifier
              example:
                id: a2439333-432f-4a42-9735-4e15df02c178
                school_id: ef6a74d8-df8a-4d2b-8faf-a841808d6381
                project_id: 987d3195-4981-4a73-85d9-c4da1d0e51dd
                status: unsubmitted
                identifier: diminish-live-mew
        '403':
          description: does not return the school project json
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: string
                required:
                - error
              example:
                error: 'CanCan::AccessDenied: You are not authorized to access this
                  page.'
        '404':
          description: returns not found response
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: string
                required:
                - error
              example:
                error: 'ActiveRecord::RecordNotFound: Couldn''t find Project with
                  [WHERE "projects"."identifier" = $1]'
  "/api/projects/{id}/submit":
    post:
      summary: submit
      tags:
      - Api::SchoolProject
      parameters:
      - name: Authorization
        in: header
        required: true
        schema:
          type: string
        example: fake-user-access-token
      - name: id
        in: path
        required: true
        schema:
          type: string
        example: imperil-fry-curve
      responses:
        '200':
          description: sets the status to submitted
          content:
            application/json:
              schema:
                type: object
                properties:
                  id:
                    type: string
                  school_id:
                    type: string
                  project_id:
                    type: string
                  status:
                    type: string
                  identifier:
                    type: string
                required:
                - id
                - school_id
                - project_id
                - status
                - identifier
              example:
                id: be6f35ee-7f12-4999-821b-bdc3efaacef9
                school_id: 4c29b4c6-0818-4cb1-a87d-111dea9fe2c7
                project_id: f9d46976-8025-49cd-b511-8eed6994ed14
                status: submitted
                identifier: sniff-ill-treat-typeset
        '403':
          description: returns forbidden response
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: string
                required:
                - error
              example:
                error: 'CanCan::AccessDenied: You are not authorized to access this
                  page.'
        '404':
          description: returns not found response
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: string
                required:
                - error
              example:
                error: 'ActiveRecord::RecordNotFound: Couldn''t find Project with
                  [WHERE "projects"."identifier" = $1]'
        '422':
          description: returns error message
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: string
                required:
                - error
              example:
                error: Cannot transition from 'complete' to 'submitted'
      requestBody:
        content:
          application/x-www-form-urlencoded:
            schema:
              type: object
              properties: {}
            example: {}
  "/api/projects/{id}/unsubmit":
    post:
      summary: unsubmit
      tags:
      - Api::SchoolProject
      parameters:
      - name: Authorization
        in: header
        required: true
        schema:
          type: string
        example: fake-user-access-token
      - name: id
        in: path
        required: true
        schema:
          type: string
        example: shout-hustle-rely
      responses:
        '200':
          description: returns the school project json
          content:
            application/json:
              schema:
                type: object
                properties:
                  id:
                    type: string
                  school_id:
                    type: string
                  project_id:
                    type: string
                  status:
                    type: string
                  identifier:
                    type: string
                required:
                - id
                - school_id
                - project_id
                - status
                - identifier
              example:
                id: 36249c8d-7446-4d0c-9c3e-794263df90ba
                school_id: 919eddc1-8317-4c10-8253-d7138cdcb949
                project_id: b918933b-4e06-4580-a183-4072c5240199
                status: unsubmitted
                identifier: enjoy-imperil-satirise
        '403':
          description: does not change the status
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: string
                required:
                - error
              example:
                error: 'CanCan::AccessDenied: You are not authorized to access this
                  page.'
        '404':
          description: returns not found response
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: string
                required:
                - error
              example:
                error: 'ActiveRecord::RecordNotFound: Couldn''t find Project with
                  [WHERE "projects"."identifier" = $1]'
        '422':
          description: does not change the status
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: string
                required:
                - error
              example:
                error: Cannot transition from 'returned' to 'unsubmitted'
      requestBody:
        content:
          application/x-www-form-urlencoded:
            schema:
              type: object
              properties: {}
            example: {}
  "/api/projects/{project_id}/feedback":
    get:
      summary: index
      tags:
      - Api::Feedback
      parameters:
      - name: Authorization
        in: header
        required: true
        schema:
          type: string
        example: fake-user-access-token
      - name: project_id
        in: path
        required: true
        schema:
          type: string
        example: inflate-scowl-proceed
      responses:
        '200':
          description: returns a list of the feedback
          content:
            application/json:
              schema:
                type: array
                items:
                  type: object
                  properties:
                    id:
                      type: string
                    school_project_id:
                      type: string
                    user_id:
                      type: string
                    content:
                      type: string
                    created_at:
                      type: string
                    updated_at:
                      type: string
                    read_at:
                      nullable: true
                  required:
                  - id
                  - school_project_id
                  - user_id
                  - content
                  - created_at
                  - updated_at
                  - read_at
              example:
              - id: 54101f12-4547-48c2-a7cb-f55b539e7990
                school_project_id: 34e817f9-194a-4e4f-b99a-a059248906d8
                user_id: cd978018-675f-430b-ab8f-243336b0a5ca
                content: Excellent work!
                created_at: '2025-11-27T08:56:05.569Z'
                updated_at: '2025-11-27T08:56:05.569Z'
                read_at: 
        '403':
          description: returns forbidden response
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: string
                required:
                - error
              example:
                error: 'CanCan::AccessDenied: You are not authorized to access this
                  page.'
        '404':
          description: returns not found response
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: string
                required:
                - error
              example:
                error: School project not found
    post:
      summary: create
      tags:
      - Api::Feedback
      parameters:
      - name: Authorization
        in: header
        required: true
        schema:
          type: string
        example: fake-user-access-token
      - name: project_id
        in: path
        required: true
        schema:
          type: string
        example: indicate-watch-neglect
      responses:
        '201':
          description: returns the feedback json containing school project id
          content:
            application/json:
              schema:
                type: object
                properties:
                  id:
                    type: string
                  school_project_id:
                    type: string
                  user_id:
                    type: string
                  content:
                    type: string
                  created_at:
                    type: string
                  updated_at:
                    type: string
                  read_at:
                    nullable: true
                required:
                - id
                - school_project_id
                - user_id
                - content
                - created_at
                - updated_at
                - read_at
              example:
                id: 86a34e74-b1bf-4105-adb8-e8338bd7847f
                school_project_id: 1b18d12a-9b44-4820-b4f6-8acadfecdce7
                user_id: 11795fb3-c6a2-446c-9d86-39c212ff2f3b
                content: Nice one!
                created_at: '2025-11-27T08:56:16.203Z'
                updated_at: '2025-11-27T08:56:16.203Z'
                read_at: 
        '403':
          description: does not add the feedback to the school project
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: string
                required:
                - error
              example:
                error: 'CanCan::AccessDenied: You are not authorized to access this
                  page.'
        '422':
          description: does not add the feedback to the school project
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: string
                required:
                - error
              example:
                error: 'Error creating feedback: Content can''t be blank'
      requestBody:
        content:
          application/x-www-form-urlencoded:
            schema:
              type: object
              properties:
                feedback:
                  type: object
                  properties:
                    content:
                      type: string
                  required:
                  - content
              required:
              - feedback
            example:
              feedback:
                content: Nice one!
  "/api/projects/{project_id}/feedback/{id}/read":
    put:
      summary: set_read
      tags:
      - Api::Feedback
      parameters:
      - name: Authorization
        in: header
        required: true
        schema:
          type: string
        example: fake-user-access-token
      - name: id
        in: path
        required: true
        schema:
          type: string
        example: 4202adf9-0fb4-45fd-a66d-261339008fc1
      - name: project_id
        in: path
        required: true
        schema:
          type: string
        example: adjust-stoop-peep
      responses:
        '200':
          description: sets read_at to be a time
          content:
            application/json:
              schema:
                type: object
                properties:
                  id:
                    type: string
                  school_project_id:
                    type: string
                  user_id:
                    type: string
                  content:
                    type: string
                  created_at:
                    type: string
                  updated_at:
                    type: string
                  read_at:
                    type: string
                required:
                - id
                - school_project_id
                - user_id
                - content
                - created_at
                - updated_at
                - read_at
              example:
                id: 5fb10689-8c98-47f4-a505-fd7c429de40b
                school_project_id: 15c28148-0f79-4608-a545-bd21a54ed562
                user_id: 1fbc7dda-3924-4eb8-bd67-d57bfa19600c
                content: Excellent work!
                created_at: '2025-11-27T08:56:03.862Z'
                updated_at: '2025-11-27T08:56:03.875Z'
                read_at: '2025-11-27T08:56:03.871Z'
        '403':
          description: returns forbidden response
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: string
                required:
                - error
              example:
                error: 'CanCan::AccessDenied: You are not authorized to access this
                  page.'
        '404':
          description: returns not found response
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: string
                required:
                - error
              example:
                error: 'ActiveRecord::RecordNotFound: Couldn''t find Feedback with
                  ''id''="does-not-exist"'
      requestBody:
        content:
          application/x-www-form-urlencoded:
            schema:
              type: object
              properties: {}
            example: {}
  "/api/projects/{project_id}/images":
    post:
      summary: create
      tags:
      - Api::Projects::Image
      parameters:
      - name: Authorization
        in: header
        required: true
        schema:
          type: string
        example: fake-user-access-token
      - name: project_id
        in: path
        required: true
        schema:
          type: string
        example: shine-dig-convert
      responses:
        '200':
          description: returns success response
          content:
            application/json:
              schema:
                type: object
                properties:
                  image_list:
                    type: array
                    items:
                      type: object
                      properties:
                        filename:
                          type: string
                        url:
                          type: string
                      required:
                      - filename
                      - url
                required:
                - image_list
              example:
                image_list:
                - filename: test_image_1.png
                  url: http://www.example.com/rails/active_storage/blobs/proxy/eyJfcmFpbHMiOnsiZGF0YSI6IjMxYzMwOWUxLTgyMDMtNDIwYS1hODBkLTZhYTIwY2NkMjNkMSIsInB1ciI6ImJsb2JfaWQifX0=--dfbc0864ca4f3c46c7dbc1d54d6dd355e3881d0c/test_image_1.png
        '401':
          description: returns unauthorized
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: string
                required:
                - error
              example:
                error: Unauthorized
        '403':
          description: returns forbidden response
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: string
                required:
                - error
              example:
                error: 'CanCan::AccessDenied: You are not authorized to access this
                  page.'
        '404':
          description: returns 404 response if invalid project
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: string
                required:
                - error
              example:
                error: 'ActiveRecord::RecordNotFound: Couldn''t find Project with
                  [WHERE "projects"."identifier" = $1]'
      requestBody:
        content:
          multipart/form-data:
            schema:
              type: object
              properties:
                images:
                  type: array
                  items:
                    type: string
                    format: binary
              required:
              - images
            example:
              images:
              - test_image_1.png
  "/api/projects/{project_id}/remix":
    get:
      summary: show
      tags:
      - Api::Projects::Remix
      parameters:
      - name: Authorization
        in: header
        required: true
        schema:
          type: string
        example: fake-user-access-token
      - name: project_id
        in: path
        required: true
        schema:
          type: string
        example: dream-scare-achieve
      responses:
        '200':
          description: returns success response
          content:
            application/json:
              schema:
                type: object
                properties:
                  identifier:
                    type: string
                  project_type:
                    type: string
                  locale:
                    type: string
                  name:
                    type: string
                  user_id:
                    type: string
                  instructions:
                    nullable: true
                  parent:
                    type: object
                    properties:
                      name:
                        type: string
                      identifier:
                        type: string
                    required:
                    - name
                    - identifier
                  components:
                    type: array
                    items: {}
                  image_list:
                    type: array
                    items: {}
                  videos:
                    type: array
                    items: {}
                  audio:
                    type: array
                    items: {}
                required:
                - identifier
                - project_type
                - locale
                - name
                - user_id
                - instructions
                - parent
                - components
                - image_list
                - videos
                - audio
              example:
                identifier: swot-obstruct-output
                project_type: python
                locale: fr-FR
                name: His Dark Materials
                user_id: b12531bb-d076-4289-9ef7-0757c35631d1
                instructions: 
                parent:
                  name: Things Fall Apart
                  identifier: dream-scare-achieve
                components: []
                image_list: []
                videos: []
                audio: []
        '401':
          description: returns unauthorized
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: string
                required:
                - error
              example:
                error: Unauthorized
        '404':
          description: returns 404 response if invalid project
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: string
                required:
                - error
              example:
                error: 'ActiveRecord::RecordNotFound: Couldn''t find Project with
                  [WHERE "projects"."identifier" = $1]'
    post:
      summary: create
      tags:
      - Api::Projects::Remix
      parameters:
      - name: Authorization
        in: header
        required: true
        schema:
          type: string
        example: fake-user-access-token
      - name: project_id
        in: path
        required: true
        schema:
          type: string
        example: scat-qualify-afford
      responses:
        '200':
          description: returns success response
          content:
            application/json:
              schema:
                type: object
                properties:
                  identifier:
                    type: string
                  project_type:
                    type: string
                  locale:
                    nullable: true
                  name:
                    type: string
                  user_id:
                    type: string
                  instructions:
                    nullable: true
                  parent:
                    type: object
                    properties:
                      name:
                        type: string
                      identifier:
                        type: string
                    required:
                    - name
                    - identifier
                  components:
                    type: array
                    items: {}
                  image_list:
                    type: array
                    items: {}
                  videos:
                    type: array
                    items: {}
                  audio:
                    type: array
                    items: {}
                required:
                - identifier
                - project_type
                - locale
                - name
                - user_id
                - instructions
                - parent
                - components
                - image_list
                - videos
                - audio
              example:
                identifier: depend-think-rend
                project_type: python
                locale: 
                name: Have His Carcase
                user_id: d4d0a257-04f2-41b9-a03d-3c9a05b90075
                instructions: 
                parent:
                  name: Have His Carcase
                  identifier: occupy-press-ill-treat
                components: []
                image_list: []
                videos: []
                audio: []
        '400':
          description: returns 400
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: string
                required:
                - error
              example:
                error: Something went wrong
        '401':
          description: returns unauthorized
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: string
                required:
                - error
              example:
                error: Unauthorized
        '404':
          description: returns 404 response if invalid project
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: string
                required:
                - error
              example:
                error: 'ActiveRecord::RecordNotFound: Couldn''t find Project with
                  [WHERE "projects"."identifier" = $1]'
      requestBody:
        content:
          application/x-www-form-urlencoded:
            schema:
              type: object
              properties:
                project:
                  type: object
                  properties:
                    name:
                      type: string
                    identifier:
                      type: string
                    components:
                      type: array
                      items:
                        type: string
                  required:
                  - name
                  - identifier
                  - components
              required:
              - project
            example:
              project:
                name: Have His Carcase
                identifier: occupy-press-ill-treat
                components:
                - ''
  "/api/projects/{project_id}/remix/identifier":
    get:
      summary: show_identifier
      tags:
      - Api::Projects::Remix
      parameters:
      - name: Authorization
        in: header
        required: true
        schema:
          type: string
        example: fake-user-access-token
      - name: project_id
        in: path
        required: true
        schema:
          type: string
        example: paste-implant-implode
      responses:
        '200':
          description: returns success response
          content:
            application/json:
              schema:
                type: object
                properties:
                  identifier:
                    type: string
                required:
                - identifier
              example:
                identifier: ski-act-verify
        '401':
          description: returns unauthorized
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: string
                required:
                - error
              example:
                error: Unauthorized
        '404':
          description: returns 404 if no remixed project for user
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: string
                required:
                - error
              example:
                error: 'ActiveRecord::RecordNotFound: Couldn''t find Project with
                  [WHERE "projects"."remixed_from_id" = $1 AND "projects"."user_id"
                  = $2]'
  "/api/projects/{project_id}/remixes":
    get:
      summary: index
      tags:
      - Api::Projects::Remix
      parameters:
      - name: Authorization
        in: header
        required: true
        schema:
          type: string
        example: fake-user-access-token
      - name: project_id
        in: path
        required: true
        schema:
          type: string
        example: merge-insult-prohibit
      responses:
        '200':
          description: returns the list of projects
          content:
            application/json:
              schema:
                type: array
                items:
                  type: object
                  properties:
                    identifier:
                      type: string
                    project_type:
                      type: string
                    name:
                      type: string
                    user_id:
                      type: string
                    updated_at:
                      type: string
                    last_edited_at:
                      type: string
                    user_name:
                      nullable: true
                    finished:
                      nullable: true
                    status:
                      nullable: true
                  required:
                  - identifier
                  - project_type
                  - name
                  - user_id
                  - updated_at
                  - last_edited_at
                  - user_name
                  - finished
                  - status
              example:
              - identifier: speed-grind-recur
                project_type: python
                name: To Your Scattered Bodies Go
                user_id: afa721c1-9a2f-4624-9150-b0ba014b1135
                updated_at: '2025-11-27T08:56:08.300Z'
                last_edited_at: '2025-11-27T08:56:08.300Z'
                user_name: 
                finished: 
                status: 
              - identifier: force-recognize-heave
                project_type: python
                name: Quo Vadis
                user_id: afa721c1-9a2f-4624-9150-b0ba014b1135
                updated_at: '2025-11-27T08:56:08.303Z'
                last_edited_at: '2025-11-27T08:56:08.303Z'
                user_name: 
                finished: 
                status: 
        '404':
          description: returns 404 response if invalid project
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: string
                required:
                - error
              example:
                error: 'ActiveRecord::RecordNotFound: Couldn''t find Project with
                  [WHERE "projects"."identifier" = $1]'
  "/api/school":
    get:
      summary: show
      tags:
      - Api::MySchool
      responses:
        '200':
          description: includes the school details and user's roles in the JSON
          content:
            application/json:
              schema:
                type: object
                properties:
                  id:
                    type: string
                  name:
                    type: string
                  website:
                    type: string
                  reference:
                    nullable: true
                  district_name:
                    nullable: true
                  district_nces_id:
                    nullable: true
                  address_line_1:
                    type: string
                  address_line_2:
                    nullable: true
                  municipality:
                    type: string
                  administrative_area:
                    nullable: true
                  postal_code:
                    nullable: true
                  country_code:
                    type: string
                  verified_at:
                    nullable: true
                  created_at:
                    type: string
                  updated_at:
                    type: string
                  roles:
                    type: array
                    items:
                      type: string
                  code:
                    nullable: true
                  import_in_progress:
                    type: boolean
                required:
                - id
                - name
                - website
                - reference
                - district_name
                - district_nces_id
                - address_line_1
                - address_line_2
                - municipality
                - administrative_area
                - postal_code
                - country_code
                - verified_at
                - created_at
                - updated_at
                - roles
                - code
                - import_in_progress
              example:
                id: 7091cfe5-c41c-4e9e-b08f-086fb0014260
                name: school-name
                website: http://www.example.com
                reference: 
                district_name: 
                district_nces_id: 
                address_line_1: Address Line 1
                address_line_2: 
                municipality: Greater London
                administrative_area: 
                postal_code: 
                country_code: GB
                verified_at: 
                created_at: '2025-11-27T08:56:13.708Z'
                updated_at: '2025-11-27T08:56:13.708Z'
                roles:
                - owner
                code: 
                import_in_progress: false
        '401':
          description: responds 401 Unauthorized when no token is given
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: string
                required:
                - error
              example:
                error: Unauthorized
        '404':
          description: responds 404 Not Found when the user doesn't have a role in
            any school
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: string
                required:
                - error
              example:
                error: 'ActiveRecord::RecordNotFound: ActiveRecord::RecordNotFound'
      parameters:
      - name: Authorization
        in: header
        required: true
        schema:
          type: string
        example: fake-user-access-token
  "/api/schools":
    get:
      summary: index
      tags:
      - Api::School
      parameters:
      - name: Authorization
        in: header
        required: true
        schema:
          type: string
        example: fake-user-access-token
      responses:
        '200':
          description: only includes schools the user belongs to
          content:
            application/json:
              schema:
                type: array
                items:
                  type: object
                  properties:
                    id:
                      type: string
                    name:
                      type: string
                    website:
                      type: string
                    reference:
                      nullable: true
                    district_name:
                      nullable: true
                    district_nces_id:
                      nullable: true
                    address_line_1:
                      type: string
                    address_line_2:
                      nullable: true
                    municipality:
                      type: string
                    administrative_area:
                      nullable: true
                    postal_code:
                      nullable: true
                    country_code:
                      type: string
                    verified_at:
                      nullable: true
                    created_at:
                      type: string
                    updated_at:
                      type: string
                    import_in_progress:
                      type: boolean
                  required:
                  - id
                  - name
                  - website
                  - reference
                  - district_name
                  - district_nces_id
                  - address_line_1
                  - address_line_2
                  - municipality
                  - administrative_area
                  - postal_code
                  - country_code
                  - verified_at
                  - created_at
                  - updated_at
                  - import_in_progress
              example:
              - id: 5e91f9a4-c618-4cb6-ab83-10296de95d99
                name: Test School
                website: http://www.example.com
                reference: 
                district_name: 
                district_nces_id: 
                address_line_1: Address Line 1
                address_line_2: 
                municipality: Greater London
                administrative_area: 
                postal_code: 
                country_code: GB
                verified_at: 
                created_at: '2025-11-27T08:56:17.228Z'
                updated_at: '2025-11-27T08:56:17.228Z'
                import_in_progress: false
        '401':
          description: responds 401 Unauthorized when no token is given
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: string
                required:
                - error
              example:
                error: Unauthorized
    post:
      summary: create
      tags:
      - Api::School
      parameters:
      - name: Authorization
        in: header
        required: true
        schema:
          type: string
        example: fake-user-access-token
      requestBody:
        content:
          application/x-www-form-urlencoded:
            schema:
              type: object
              properties:
                school:
                  type: object
                  properties:
                    name:
                      type: string
                    website:
                      type: string
                    address_line_1:
                      type: string
                    municipality:
                      type: string
                    country_code:
                      type: string
                    creator_agree_authority:
                      type: string
                    creator_agree_terms_and_conditions:
                      type: string
                    creator_agree_to_ux_contact:
                      type: string
                    creator_agree_responsible_safeguarding:
                      type: string
                    user_origin:
                      type: string
                  required:
                  - name
                  - website
                  - address_line_1
                  - municipality
                  - country_code
                  - creator_agree_authority
                  - creator_agree_terms_and_conditions
                  - creator_agree_to_ux_contact
                  - creator_agree_responsible_safeguarding
                  - user_origin
              required:
              - school
            example:
              school:
                name: Test School
                website: http://www.example.com
                address_line_1: Address Line 1
                municipality: Greater London
                country_code: GB
                creator_agree_authority: 'true'
                creator_agree_terms_and_conditions: 'true'
                creator_agree_to_ux_contact: 'true'
                creator_agree_responsible_safeguarding: 'true'
                user_origin: for_education
      responses:
        '201':
          description: responds 201 Created
          content:
            application/json:
              schema:
                type: object
                properties:
                  id:
                    type: string
                  name:
                    type: string
                  website:
                    type: string
                  reference:
                    nullable: true
                  district_name:
                    nullable: true
                  district_nces_id:
                    nullable: true
                  address_line_1:
                    type: string
                  address_line_2:
                    nullable: true
                  municipality:
                    type: string
                  administrative_area:
                    nullable: true
                  postal_code:
                    nullable: true
                  country_code:
                    type: string
                  verified_at:
                    nullable: true
                  created_at:
                    type: string
                  updated_at:
                    type: string
                  user_origin:
                    type: string
                  import_in_progress:
                    type: boolean
                required:
                - id
                - name
                - website
                - reference
                - district_name
                - district_nces_id
                - address_line_1
                - address_line_2
                - municipality
                - administrative_area
                - postal_code
                - country_code
                - verified_at
                - created_at
                - updated_at
                - user_origin
                - import_in_progress
              example:
                id: 9537c521-0771-4c26-8f21-2f9471066468
                name: Test School
                website: http://www.example.com
                reference: 
                district_name: 
                district_nces_id: 
                address_line_1: Address Line 1
                address_line_2: 
                municipality: Greater London
                administrative_area: 
                postal_code: 
                country_code: GB
                verified_at: 
                created_at: '2025-11-27T08:56:13.636Z'
                updated_at: '2025-11-27T08:56:13.636Z'
                user_origin: for_education
                import_in_progress: false
        '400':
          description: responds 400 Bad Request when params are missing
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: string
                required:
                - error
              example:
                error: 'ActionController::ParameterMissing: param is missing or the
                  value is empty: school'
        '401':
          description: responds 401 Unauthorized when no token is given
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: string
                required:
                - error
              example:
                error: Unauthorized
        '422':
          description: responds 422 Unprocessable Entity when params are invalid
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: object
                    properties:
                      name:
                        type: array
                        items:
                          type: string
                      website:
                        type: array
                        items:
                          type: string
                      address_line_1:
                        type: array
                        items:
                          type: string
                      municipality:
                        type: array
                        items:
                          type: string
                      country_code:
                        type: array
                        items:
                          type: string
                      creator_agree_authority:
                        type: array
                        items:
                          type: string
                      creator_agree_terms_and_conditions:
                        type: array
                        items:
                          type: string
                    required:
                    - name
                    - website
                    - address_line_1
                    - municipality
                    - country_code
                    - creator_agree_authority
                    - creator_agree_terms_and_conditions
                required:
                - error
              example:
                error:
                  name:
                  - can't be blank
                  website:
                  - can't be blank
                  - must be a valid URL
                  address_line_1:
                  - can't be blank
                  municipality:
                  - can't be blank
                  country_code:
                  - can't be blank
                  - is not included in the list
                  creator_agree_authority:
                  - can't be blank
                  creator_agree_terms_and_conditions:
                  - can't be blank
  "/api/schools/{id}":
    delete:
      summary: destroy
      tags:
      - Api::School
      parameters:
      - name: Authorization
        in: header
        required: true
        schema:
          type: string
        example: fake-user-access-token
      - name: id
        in: path
        required: true
        schema:
          type: string
        example: 63d70a7a-ba6a-4629-8cb5-9b86338b0e75
      responses:
        '204':
          description: responds 204 No Content
        '401':
          description: responds 401 Unauthorized when no token is given
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: string
                required:
                - error
              example:
                error: Unauthorized
        '403':
          description: responds 403 Forbidden when the user is a school-student
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: string
                required:
                - error
              example:
                error: 'CanCan::AccessDenied: You are not authorized to access this
                  page.'
    get:
      summary: show
      tags:
      - Api::School
      parameters:
      - name: Authorization
        in: header
        required: true
        schema:
          type: string
        example: fake-user-access-token
      - name: id
        in: path
        required: true
        schema:
          type: string
        example: not-a-real-id
      responses:
        '200':
          description: responds 200 OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  id:
                    type: string
                  name:
                    type: string
                  website:
                    type: string
                  reference:
                    nullable: true
                  district_name:
                    nullable: true
                  district_nces_id:
                    nullable: true
                  address_line_1:
                    type: string
                  address_line_2:
                    nullable: true
                  municipality:
                    type: string
                  administrative_area:
                    nullable: true
                  postal_code:
                    nullable: true
                  country_code:
                    type: string
                  verified_at:
                    nullable: true
                  created_at:
                    type: string
                  updated_at:
                    type: string
                  user_origin:
                    type: string
                  import_in_progress:
                    type: boolean
                required:
                - id
                - name
                - website
                - reference
                - district_name
                - district_nces_id
                - address_line_1
                - address_line_2
                - municipality
                - administrative_area
                - postal_code
                - country_code
                - verified_at
                - created_at
                - updated_at
                - user_origin
                - import_in_progress
              example:
                id: 99f394ad-f6b4-482b-8190-6eb3d5bec3bd
                name: Test School
                website: http://www.example.com
                reference: 
                district_name: 
                district_nces_id: 
                address_line_1: Address Line 1
                address_line_2: 
                municipality: Greater London
                administrative_area: 
                postal_code: 
                country_code: GB
                verified_at: 
                created_at: '2025-11-27T08:56:06.331Z'
                updated_at: '2025-11-27T08:56:06.331Z'
                user_origin: for_education
                import_in_progress: false
        '401':
          description: responds 401 Unauthorized when no token is given
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: string
                required:
                - error
              example:
                error: Unauthorized
        '403':
          description: responds 403 Forbidden when the user belongs to a different
            school
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: string
                required:
                - error
              example:
                error: 'CanCan::AccessDenied: You are not authorized to access this
                  page.'
        '404':
          description: responds 404 Not Found when no school exists
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: string
                required:
                - error
              example:
                error: 'ActiveRecord::RecordNotFound: Couldn''t find School with ''id''="not-a-real-id"'
    put:
      summary: update
      tags:
      - Api::School
      parameters:
      - name: Authorization
        in: header
        required: true
        schema:
          type: string
        example: fake-user-access-token
      - name: id
        in: path
        required: true
        schema:
          type: string
        example: 14855f0d-e37c-45a3-9522-509d8874be3c
      responses:
        '200':
          description: responds with the school JSON
          content:
            application/json:
              schema:
                type: object
                properties:
                  id:
                    type: string
                  name:
                    type: string
                  website:
                    type: string
                  reference:
                    nullable: true
                  district_name:
                    nullable: true
                  district_nces_id:
                    nullable: true
                  address_line_1:
                    type: string
                  address_line_2:
                    nullable: true
                  municipality:
                    type: string
                  administrative_area:
                    nullable: true
                  postal_code:
                    nullable: true
                  country_code:
                    type: string
                  verified_at:
                    nullable: true
                  created_at:
                    type: string
                  updated_at:
                    type: string
                  user_origin:
                    type: string
                  import_in_progress:
                    type: boolean
                required:
                - id
                - name
                - website
                - reference
                - district_name
                - district_nces_id
                - address_line_1
                - address_line_2
                - municipality
                - administrative_area
                - postal_code
                - country_code
                - verified_at
                - created_at
                - updated_at
                - user_origin
                - import_in_progress
              example:
                id: 9fee5dc8-57ab-4175-8e59-8c288d67ebfd
                name: New Name
                website: http://www.example.com
                reference: 
                district_name: 
                district_nces_id: 
                address_line_1: Address Line 1
                address_line_2: 
                municipality: Greater London
                administrative_area: 
                postal_code: 
                country_code: GB
                verified_at: 
                created_at: '2025-11-27T08:56:06.457Z'
                updated_at: '2025-11-27T08:56:06.468Z'
                user_origin: for_education
                import_in_progress: false
        '400':
          description: responds 400 Bad Request when params are missing
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: string
                required:
                - error
              example:
                error: 'ActionController::ParameterMissing: param is missing or the
                  value is empty: school'
        '401':
          description: responds 401 Unauthorized when no token is given
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: string
                required:
                - error
              example:
                error: Unauthorized
        '403':
          description: responds 403 Forbidden when the user is a school-owner for
            a different school
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: string
                required:
                - error
              example:
                error: 'CanCan::AccessDenied: You are not authorized to access this
                  page.'
        '404':
          description: responds 404 Not Found when no school exists
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: string
                required:
                - error
              example:
                error: 'ActiveRecord::RecordNotFound: Couldn''t find School with ''id''="not-a-real-id"'
        '422':
          description: responds 422 Unprocessable Entity when params are invalid
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: string
                required:
                - error
              example:
                error: 'Error updating school: Name can''t be blank'
      requestBody:
        content:
          application/x-www-form-urlencoded:
            schema:
              type: object
              properties:
                school:
                  type: object
                  properties:
                    name:
                      type: string
                  required:
                  - name
              required:
              - school
            example:
              school:
                name: New Name
  "/api/schools/{school_id}/classes":
    get:
      summary: index
      tags:
      - Api::SchoolClass
      parameters:
      - name: Authorization
        in: header
        required: true
        schema:
          type: string
        example: fake-user-access-token
      - name: my_classes
        in: query
        required: false
        schema:
          type: string
        example: 'true'
      - name: school_id
        in: path
        required: true
        schema:
          type: string
        example: 93822a83-a2a6-4293-8bd1-f2c3bbd29785
      responses:
        '200':
          description: does not include school classes that the school-student isn't
            a member of
          content:
            application/json:
              schema:
                type: array
                items:
                  type: object
                  properties:
                    id:
                      type: string
                    description:
                      nullable: true
                    school_id:
                      type: string
                    name:
                      type: string
                    created_at:
                      type: string
                    updated_at:
                      type: string
                    import_origin:
                      nullable: true
                    import_id:
                      nullable: true
                    teachers:
                      type: array
                      items:
                        type: object
                        properties:
                          id:
                            type: string
                          name:
                            type: string
                          type:
                            type: string
                        required:
                        - id
                        - name
                        - type
                  required:
                  - id
                  - description
                  - school_id
                  - name
                  - created_at
                  - updated_at
                  - import_origin
                  - import_id
                  - teachers
              example:
              - id: f81a3c1a-def8-4fc4-bd62-b08ca0f58ab0
                description: 
                school_id: 93822a83-a2a6-4293-8bd1-f2c3bbd29785
                name: Test School Class
                created_at: '2025-11-27T08:56:17.156Z'
                updated_at: '2025-11-27T08:56:17.156Z'
                import_origin: 
                import_id: 
                teachers:
                - id: bb2b949d-52aa-49c9-8697-208cf8c3263c
                  name: School Teacher
                  type: teacher
        '401':
          description: responds 401 Unauthorized when no token is given
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: string
                required:
                - error
              example:
                error: Unauthorized
    post:
      summary: create
      tags:
      - Api::SchoolClass
      parameters:
      - name: Authorization
        in: header
        required: true
        schema:
          type: string
        example: fake-user-access-token
      - name: school_id
        in: path
        required: true
        schema:
          type: string
        example: 0d705685-1434-4e13-abf2-5babf5cbb35a
      requestBody:
        content:
          application/x-www-form-urlencoded:
            schema:
              type: object
              properties:
                school_class:
                  type: object
                  properties:
                    name:
                      type: string
                    description:
                      type: string
                    teacher_id:
                      type: string
                    import_origin:
                      type: string
                    import_id:
                      type: string
                  required:
                  - name
                  - description
              required:
              - school_class
            example:
              school_class:
                name: Test School Class
                description: Test School Class Description
                teacher_id: ignored
                import_origin: google_classroom
                import_id: classroom_123
      responses:
        '201':
          description: responds 201 Created
          content:
            application/json:
              schema:
                type: object
                properties:
                  id:
                    type: string
                  description:
                    type: string
                  school_id:
                    type: string
                  name:
                    type: string
                  code:
                    type: string
                  created_at:
                    type: string
                  updated_at:
                    type: string
                  import_origin:
                    nullable: true
                  import_id:
                    nullable: true
                  teachers:
                    type: array
                    items:
                      type: object
                      properties:
                        id:
                          type: string
                        name:
                          type: string
                        type:
                          type: string
                      required:
                      - id
                      - name
                      - type
                required:
                - id
                - description
                - school_id
                - name
                - code
                - created_at
                - updated_at
                - import_origin
                - import_id
                - teachers
              example:
                id: 80342173-82c1-49ef-92bc-6fe34be53985
                description: Test School Class Description
                school_id: 0d705685-1434-4e13-abf2-5babf5cbb35a
                name: Test School Class
                code: 00-55-93
                created_at: '2025-11-27T08:56:13.408Z'
                updated_at: '2025-11-27T08:56:13.408Z'
                import_origin: 
                import_id: 
                teachers:
                - id: b6a0801d-460f-4f6b-b706-b76fd7080fb5
                  name: School Teacher
                  type: teacher
        '400':
          description: responds 400 Bad Request when params are missing
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: string
                required:
                - error
              example:
                error: 'ActionController::ParameterMissing: param is missing or the
                  value is empty: school_class'
        '401':
          description: responds 401 Unauthorized when no token is given
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: string
                required:
                - error
              example:
                error: Unauthorized
        '403':
          description: responds 403 Forbidden when the user is a school-student
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: string
                required:
                - error
              example:
                error: 'CanCan::AccessDenied: You are not authorized to access this
                  page.'
        '422':
          description: responds 422 Unprocessable Entity when params are invalid
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: string
                required:
                - error
              example:
                error: 'Error creating school class: Name can''t be blank'
  "/api/schools/{school_id}/classes/import":
    post:
      summary: import
      tags:
      - Api::SchoolClass
      parameters:
      - name: Authorization
        in: header
        required: true
        schema:
          type: string
        example: fake-user-access-token
      - name: school_id
        in: path
        required: true
        schema:
          type: string
        example: daa647aa-4003-45e2-841c-803ab2acba9f
      requestBody:
        content:
          application/x-www-form-urlencoded:
            schema:
              type: object
              properties:
                school_class:
                  type: object
                  properties:
                    name:
                      type: string
                    description:
                      type: string
                    import_origin:
                      type: string
                    import_id:
                      type: string
                  required:
                  - name
                  - description
                  - import_origin
                  - import_id
                school_students:
                  type: array
                  items:
                    type: object
                    properties:
                      name:
                        type: string
                      email:
                        type: string
                    required:
                    - name
                    - email
                  nullable: true
              required:
              - school_class
            example:
              school_class:
                name: Imported Class
                description: Imported Description
                import_origin: google_classroom
                import_id: classroom_123
              school_students:
              - name: Jane Student
                email: jane.student@example.com
              - name: John Student
                email: john.student@example.com
      responses:
        '201':
          description: returns 201 with plural [:errors] in students section when
            student creation fails
          content:
            application/json:
              schema:
                type: object
                properties:
                  school_class:
                    type: object
                    properties:
                      id:
                        type: string
                      description:
                        type: string
                      school_id:
                        type: string
                      name:
                        type: string
                      code:
                        type: string
                      created_at:
                        type: string
                      updated_at:
                        type: string
                      import_origin:
                        type: string
                      import_id:
                        type: string
                      teachers:
                        type: array
                        items:
                          type: object
                          properties:
                            id:
                              type: string
                            name:
                              type: string
                            type:
                              type: string
                          required:
                          - id
                          - name
                          - type
                    required:
                    - id
                    - description
                    - school_id
                    - name
                    - code
                    - created_at
                    - updated_at
                    - import_origin
                    - import_id
                    - teachers
                  students:
                    type: object
                    items:
                      type: object
                      properties:
                        id:
                          type: string
                        username:
                          type: string
                        name:
                          type: string
                        email:
                          type: string
                        sso_providers:
                          type: array
                          items: {}
                        type:
                          type: string
                        success:
                          type: boolean
                        error:
                          nullable: true
                        created:
                          type: boolean
                      required:
                      - id
                      - username
                      - name
                      - email
                      - sso_providers
                      - type
                      - success
                      - error
                      - created
                    properties:
                      errors:
                        type: object
                        properties:
                          jane.student@example.com:
                            type: string
                          john.student@example.com:
                            type: string
                        required:
                        - jane.student@example.com
                        - john.student@example.com
                    required:
                    - errors
                  class_members:
                    type: array
                    items:
                      type: object
                      properties:
                        success:
                          type: boolean
                        student_id:
                          type: string
                          nullable: true
                        school_class_id:
                          type: string
                          nullable: true
                        error:
                          type: string
                          nullable: true
                        id:
                          type: string
                        created_at:
                          type: string
                        updated_at:
                          type: string
                        student:
                          type: object
                          properties:
                            id:
                              type: string
                            username:
                              type: string
                            name:
                              type: string
                            email:
                              type: string
                            sso_providers:
                              type: array
                              items: {}
                            type:
                              type: string
                          required:
                          - id
                          - username
                          - name
                          - email
                          - sso_providers
                          - type
                      required:
                      - success
                      - student_id
                      - school_class_id
                      - error
                required:
                - school_class
                - students
                - class_members
              example:
                school_class:
                  id: 3f06003e-b4ad-4fca-80d3-4675f1863a82
                  description: Imported Description
                  school_id: af9e1d35-836d-40a9-a951-93c41c642b2d
                  name: Imported Class
                  code: 81-37-87
                  created_at: '2025-11-27T08:56:03.363Z'
                  updated_at: '2025-11-27T08:56:03.363Z'
                  import_origin: google_classroom
                  import_id: classroom_123
                  teachers:
                  - id: 03adc039-3086-461e-b9fa-f741a84b870f
                    name: School Teacher
                    type: teacher
                students:
                  errors:
                    jane.student@example.com: Email already exists
                    john.student@example.com: Invalid email format
                class_members: []
        '422':
          description: returns 422 if import_id is missing
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: string
                required:
                - error
              example:
                error: 'Error creating school class: Import id can''t be blank'
  "/api/schools/{school_id}/classes/{class_id}/members":
    get:
      summary: index
      tags:
      - Api::ClassMember
      parameters:
      - name: Authorization
        in: header
        required: true
        schema:
          type: string
        example: fake-user-access-token
      - name: class_id
        in: path
        required: true
        schema:
          type: string
        example: 7c016560-914c-4ba3-91b2-0bb43f78f3c7
      - name: school_id
        in: path
        required: true
        schema:
          type: string
        example: 4353b962-9e06-4d34-acc5-ef361390c949
      responses:
        '200':
          description: responds with the correct teacher id
          content:
            application/json:
              schema:
                type: array
                items:
                  type: object
                  properties:
                    teacher:
                      type: object
                      properties:
                        id:
                          type: string
                        name:
                          type: string
                        type:
                          type: string
                        email:
                          type: string
                      required:
                      - id
                      - name
                      - type
                      - email
                      nullable: true
                    owner:
                      type: object
                      properties:
                        id:
                          type: string
                        name:
                          type: string
                        type:
                          type: string
                        email:
                          type: string
                      required:
                      - id
                      - name
                      - type
                      - email
                      nullable: true
                    id:
                      type: string
                      nullable: true
                    school_class_id:
                      type: string
                      nullable: true
                    created_at:
                      type: string
                      nullable: true
                    updated_at:
                      type: string
                      nullable: true
                    student_id:
                      type: string
                      nullable: true
                    student:
                      type: object
                      properties:
                        id:
                          type: string
                        username:
                          type: string
                        name:
                          type: string
                        email:
                          nullable: true
                        sso_providers:
                          type: array
                          items: {}
                        type:
                          type: string
                      required:
                      - id
                      - username
                      - name
                      - email
                      - sso_providers
                      - type
                      nullable: true
              example:
              - teacher:
                  id: 4336b036-51e1-4e99-9a70-5b2ba579e119
                  name: Jermaine Hickle
                  type: teacher
                  email: goldie.fay@moen.test
              - owner:
                  id: 51dc5060-d341-48c5-98fd-483c3878abc7
                  name: Charla Larkin
                  type: owner
                  email: velda@collier.test
              - id: af0356ca-8fe6-4836-a15c-5bdb0dc55855
                school_class_id: 7c016560-914c-4ba3-91b2-0bb43f78f3c7
                created_at: '2025-11-27T08:56:17.886Z'
                updated_at: '2025-11-27T08:56:17.886Z'
                student_id: '092b81bb-2ccb-4f75-aafa-7fd4ad2e2e56'
                student:
                  id: '092b81bb-2ccb-4f75-aafa-7fd4ad2e2e56'
                  username: esther_leannon
                  name: Armida Nader
                  email: 
                  sso_providers: []
                  type: student
              - id: 654aa40a-846e-4bb8-b798-ad5176fcb75b
                school_class_id: 7c016560-914c-4ba3-91b2-0bb43f78f3c7
                created_at: '2025-11-27T08:56:17.888Z'
                updated_at: '2025-11-27T08:56:17.888Z'
                student_id: bd1ccf14-9f8e-420e-8d8e-2bc17672fa62
                student:
                  id: bd1ccf14-9f8e-420e-8d8e-2bc17672fa62
                  username: jared
                  name: Msgr. Patrica Bins
                  email: 
                  sso_providers: []
                  type: student
              - id: 9ae00262-9dbe-4e8b-aa58-797a439a0666
                school_class_id: 7c016560-914c-4ba3-91b2-0bb43f78f3c7
                created_at: '2025-11-27T08:56:17.885Z'
                updated_at: '2025-11-27T08:56:17.885Z'
                student_id: 3534fbed-f2c7-4a52-a933-b380f9074096
                student:
                  id: 3534fbed-f2c7-4a52-a933-b380f9074096
                  username: eliseo
                  name: Pres. Emerita Botsford
                  email: 
                  sso_providers: []
                  type: student
        '401':
          description: responds 401 Unauthorized when no token is given
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: string
                required:
                - error
              example:
                error: Unauthorized
        '403':
          description: responds 403 Forbidden when the user is a school-student
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: string
                required:
                - error
              example:
                error: 'CanCan::AccessDenied: You are not authorized to access this
                  page.'
    post:
      summary: create
      tags:
      - Api::ClassMember
      parameters:
      - name: Authorization
        in: header
        required: true
        schema:
          type: string
        example: fake-user-access-token
      - name: class_id
        in: path
        required: true
        schema:
          type: string
        example: 8247c6f8-fcf4-43ad-8b52-bd9f230a678c
      - name: school_id
        in: path
        required: true
        schema:
          type: string
        example: 71abef3e-89c6-4fb6-8f03-1127f484a9a4
      responses:
        '201':
          description: responds with the class member JSON
          content:
            application/json:
              schema:
                type: object
                properties:
                  class_member:
                    type: object
                    properties:
                      id:
                        type: string
                      school_class_id:
                        type: string
                      created_at:
                        type: string
                      updated_at:
                        type: string
                      teacher_id:
                        type: string
                      owner:
                        type: object
                        properties:
                          id:
                            type: string
                          name:
                            type: string
                          type:
                            type: string
                          email:
                            type: string
                        required:
                        - id
                        - name
                        - type
                        - email
                      student_id:
                        type: string
                      student:
                        type: object
                        properties:
                          id:
                            type: string
                          username:
                            type: string
                          name:
                            type: string
                          email:
                            nullable: true
                          sso_providers:
                            type: array
                            items: {}
                          type:
                            type: string
                        required:
                        - id
                        - username
                        - name
                        - email
                        - sso_providers
                        - type
                      teacher:
                        type: object
                        properties:
                          id:
                            type: string
                          name:
                            type: string
                          type:
                            type: string
                          email:
                            type: string
                        required:
                        - id
                        - name
                        - type
                        - email
                    required:
                    - id
                    - school_class_id
                    - created_at
                    - updated_at
                required:
                - class_member
              example:
                class_member:
                  id: 27301f87-9949-47db-85a4-e9bedd8cf14b
                  school_class_id: 8110eeb5-6e96-4ee5-bd68-9e8d8bd9deb9
                  created_at: '2025-11-27T08:56:10.836Z'
                  updated_at: '2025-11-27T08:56:10.836Z'
                  teacher_id: 186ecce9-1ce6-404d-8a68-9e26e93b93c1
                  owner:
                    id: fc29857e-6cbd-41eb-b411-998d264a3a21
                    name: Chung Will I
                    type: owner
                    email: kristyn@pfannerstill-reilly.test
                  student_id: ef25094b-f74b-4c77-9398-1f575b0e017a
                  student:
                    id: ef25094b-f74b-4c77-9398-1f575b0e017a
                    username: school-student
                    name: School Student
                    email: 
                    sso_providers: []
                    type: student
                  teacher:
                    id: 186ecce9-1ce6-404d-8a68-9e26e93b93c1
                    name: Perry Schmitt
                    type: teacher
                    email: arthur_gutkowski@aufderhar-flatley.test
        '400':
          description: responds 400 Bad Request when params are missing
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: string
                required:
                - error
              example:
                error: 'ActionController::ParameterMissing: param is missing or the
                  value is empty: class_member'
        '401':
          description: responds 401 Unauthorized when no token is given
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: string
                required:
                - error
              example:
                error: Unauthorized
        '403':
          description: responds 403 Forbidden when the user is a school-owner for
            a different school
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: string
                required:
                - error
              example:
                error: 'CanCan::AccessDenied: You are not authorized to access this
                  page.'
        '422':
          description: responds 422 Unprocessable Entity when params are invalid
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: string
                  errors:
                    type: object
                    properties:
                      12899f26-2063-4d81-995c-c71ab1e33913:
                        type: string
                      a92cccf6-9781-4f02-90ce-f732510a5430:
                        type: string
                      8b7cd842-c79a-42b4-bebf-c622c4ba35e2:
                        type: string
                      6c2ad40a-3ca1-4e1f-879c-08eb4e534f5d:
                        type: string
                      88126847-ede9-480a-ab8a-dbf7ae043746:
                        type: string
                      1fd5318c-293d-4da9-b0cf-933b1a027965:
                        type: string
                      12f253fc-5d5c-4924-bea9-749f530b4eec:
                        type: string
                      f7c36779-dd2b-4405-b9f5-f721745ca344:
                        type: string
                      3d4d1999-937f-417c-8ab2-2d5476fa42cd:
                        type: string
                      bb1c9c1e-93ec-4fce-bc62-defccd8092e2:
                        type: string
                      ccd50605-e97f-4719-b5cb-975fb07176b9:
                        type: string
                      7b020b5a-ef63-4a11-a3a1-3052ddf1cdf4:
                        type: string
                      acdaaab4-3e0d-4ec4-864c-a940bfe8fc05:
                        type: string
                      df4b767e-f12f-46ee-b413-fd4228b1c3f4:
                        type: string
                      a5ce094f-fe60-4143-ad46-232c1e213c48:
                        type: string
                      d33ef58b-fc7e-48e7-979c-93c4da9de766:
                        type: string
                      c66c642d-ef1c-4ae2-a1e9-ac1affeda031:
                        type: string
                      55f2e8b4-1e8f-4f55-9832-5f4301dc6981:
                        type: string
                      57dce1d1-b113-48c5-afc3-c6cfb01077f6:
                        type: string
                      58fec44c-ddd1-4d5e-91d7-7063dd900778:
                        type: string
                      cc80f4e5-0a9b-4739-998f-4e59334fd1ad:
                        type: string
                      d0cbdcf6-e2d9-4170-a282-923d254e78ec:
                        type: string
                      8870d3d2-e87d-41a5-91ff-947a32b01bbb:
                        type: string
                      ea0e8a23-30a2-4cc0-8118-ca3a87d0147b:
                        type: string
                required:
                - error
                - errors
              example:
                error: 'Error creating class members: No valid school members provided'
                errors:
                  12899f26-2063-4d81-995c-c71ab1e33913: 'Error creating class member
                    for student_id 12899f26-2063-4d81-995c-c71ab1e33913: Student has
                    already been taken'
                  a92cccf6-9781-4f02-90ce-f732510a5430: 'Error creating class member
                    for student_id a92cccf6-9781-4f02-90ce-f732510a5430: Student has
                    already been taken'
                  8b7cd842-c79a-42b4-bebf-c622c4ba35e2: 'Error creating class member
                    for student_id 8b7cd842-c79a-42b4-bebf-c622c4ba35e2: Student has
                    already been taken'
                  6c2ad40a-3ca1-4e1f-879c-08eb4e534f5d: 'Error creating class member
                    for teacher_id 6c2ad40a-3ca1-4e1f-879c-08eb4e534f5d: Teacher has
                    already been taken'
                  88126847-ede9-480a-ab8a-dbf7ae043746: 'Error creating class member
                    for teacher_id 88126847-ede9-480a-ab8a-dbf7ae043746: Teacher has
                    already been taken'
                  1fd5318c-293d-4da9-b0cf-933b1a027965: 'Error creating class member
                    for teacher_id 1fd5318c-293d-4da9-b0cf-933b1a027965: Teacher has
                    already been taken'
                  12f253fc-5d5c-4924-bea9-749f530b4eec: 'Error creating class member
                    for student_id 12f253fc-5d5c-4924-bea9-749f530b4eec: Student has
                    already been taken'
                  f7c36779-dd2b-4405-b9f5-f721745ca344: 'Error creating class member
                    for student_id f7c36779-dd2b-4405-b9f5-f721745ca344: Student has
                    already been taken'
                  3d4d1999-937f-417c-8ab2-2d5476fa42cd: 'Error creating class member
                    for student_id 3d4d1999-937f-417c-8ab2-2d5476fa42cd: Student has
                    already been taken'
                  bb1c9c1e-93ec-4fce-bc62-defccd8092e2: 'Error creating class member
                    for teacher_id bb1c9c1e-93ec-4fce-bc62-defccd8092e2: Teacher has
                    already been taken'
                  ccd50605-e97f-4719-b5cb-975fb07176b9: 'Error creating class member
                    for teacher_id ccd50605-e97f-4719-b5cb-975fb07176b9: Teacher has
                    already been taken'
                  7b020b5a-ef63-4a11-a3a1-3052ddf1cdf4: 'Error creating class member
                    for teacher_id 7b020b5a-ef63-4a11-a3a1-3052ddf1cdf4: Teacher has
                    already been taken'
                  acdaaab4-3e0d-4ec4-864c-a940bfe8fc05: 'Error creating class member
                    for teacher_id acdaaab4-3e0d-4ec4-864c-a940bfe8fc05: Teacher has
                    already been taken'
                  df4b767e-f12f-46ee-b413-fd4228b1c3f4: 'Error creating class member
                    for teacher_id df4b767e-f12f-46ee-b413-fd4228b1c3f4: Teacher has
                    already been taken'
                  a5ce094f-fe60-4143-ad46-232c1e213c48: 'Error creating class member
                    for teacher_id a5ce094f-fe60-4143-ad46-232c1e213c48: Teacher has
                    already been taken'
                  d33ef58b-fc7e-48e7-979c-93c4da9de766: 'Error creating class member
                    for student_id d33ef58b-fc7e-48e7-979c-93c4da9de766: Student has
                    already been taken'
                  c66c642d-ef1c-4ae2-a1e9-ac1affeda031: 'Error creating class member
                    for student_id c66c642d-ef1c-4ae2-a1e9-ac1affeda031: Student has
                    already been taken'
                  55f2e8b4-1e8f-4f55-9832-5f4301dc6981: 'Error creating class member
                    for student_id 55f2e8b4-1e8f-4f55-9832-5f4301dc6981: Student has
                    already been taken'
                  57dce1d1-b113-48c5-afc3-c6cfb01077f6: 'Error creating class member
                    for student_id 57dce1d1-b113-48c5-afc3-c6cfb01077f6: Student has
                    already been taken'
                  58fec44c-ddd1-4d5e-91d7-7063dd900778: 'Error creating class member
                    for student_id 58fec44c-ddd1-4d5e-91d7-7063dd900778: Student has
                    already been taken'
                  cc80f4e5-0a9b-4739-998f-4e59334fd1ad: 'Error creating class member
                    for student_id cc80f4e5-0a9b-4739-998f-4e59334fd1ad: Student has
                    already been taken'
                  d0cbdcf6-e2d9-4170-a282-923d254e78ec: 'Error creating class member
                    for teacher_id d0cbdcf6-e2d9-4170-a282-923d254e78ec: Teacher has
                    already been taken'
                  8870d3d2-e87d-41a5-91ff-947a32b01bbb: 'Error creating class member
                    for teacher_id 8870d3d2-e87d-41a5-91ff-947a32b01bbb: Teacher has
                    already been taken'
                  ea0e8a23-30a2-4cc0-8118-ca3a87d0147b: 'Error creating class member
                    for teacher_id ea0e8a23-30a2-4cc0-8118-ca3a87d0147b: Teacher has
                    already been taken'
      requestBody:
        content:
          application/x-www-form-urlencoded:
            schema:
              type: object
              properties:
                class_member:
                  type: object
                  properties:
                    user_id:
                      type: string
                    type:
                      type: string
                  required:
                  - user_id
                  - type
              required:
              - class_member
            example:
              class_member:
                user_id: 186ecce9-1ce6-404d-8a68-9e26e93b93c1
                type: teacher
  "/api/schools/{school_id}/classes/{class_id}/members/batch":
    post:
      summary: create_batch
      tags:
      - Api::ClassMember
      parameters:
      - name: Authorization
        in: header
        required: true
        schema:
          type: string
        example: fake-user-access-token
      - name: class_id
        in: path
        required: true
        schema:
          type: string
        example: a86c90b3-d068-4bcc-9392-6b8d58ddc3e1
      - name: school_id
        in: path
        required: true
        schema:
          type: string
        example: 6c6357fc-ee92-4235-ac32-baacbc31f526
      requestBody:
        content:
          application/x-www-form-urlencoded:
            schema:
              type: object
              properties:
                class_members:
                  type: array
                  items:
                    type: object
                    properties:
                      user_id:
                        type: string
                      type:
                        type: string
                    required:
                    - user_id
                    - type
              required:
              - class_members
            example:
              class_members:
              - user_id: 799dc560-1672-474d-a004-902495a7ff5b
                type: student
              - user_id: ad5f0b89-c398-4e61-a793-04773c61c76f
                type: student
              - user_id: 9d4c8312-74b9-4020-a01a-815d87f8dd2c
                type: student
      responses:
        '200':
          description: returns a result for all members sent in the request
          content:
            application/json:
              schema:
                type: array
                items:
                  type: object
                  properties:
                    success:
                      type: boolean
                    user_id:
                      type: string
                    error:
                      type: string
                      nullable: true
                  required:
                  - success
                  - user_id
              example:
              - success: true
                user_id: ad5f0b89-c398-4e61-a793-04773c61c76f
              - success: true
                user_id: 9d4c8312-74b9-4020-a01a-815d87f8dd2c
              - success: false
                user_id: 799dc560-1672-474d-a004-902495a7ff5b
                error: 'Error creating class member for student_id 799dc560-1672-474d-a004-902495a7ff5b:
                  Student has already been taken'
        '400':
          description: responds 400 Bad Request when params are missing
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: string
                required:
                - error
              example:
                error: 'ActionController::ParameterMissing: param is missing or the
                  value is empty: class_members'
        '401':
          description: responds 401 Unauthorized when no token is given
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: string
                required:
                - error
              example:
                error: Unauthorized
        '403':
          description: responds 403 Forbidden when the user is not the school-teacher
            for the class
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: string
                required:
                - error
              example:
                error: 'CanCan::AccessDenied: You are not authorized to access this
                  page.'
        '422':
          description: returns the error message in the operation response
          content:
            application/json:
              schema:
                type: object
                properties:
                  class_members:
                    type: array
                    items: {}
                  errors:
                    type: object
                    properties: {}
                  error:
                    type: string
                required:
                - class_members
                - errors
                - error
              example:
                class_members: []
                errors: {}
                error: 'Error creating class members: No valid school members provided'
  "/api/schools/{school_id}/classes/{class_id}/members/{id}":
    delete:
      summary: destroy
      tags:
      - Api::ClassMember
      parameters:
      - name: Authorization
        in: header
        required: true
        schema:
          type: string
        example: fake-user-access-token
      - name: class_id
        in: path
        required: true
        schema:
          type: string
        example: 4fce7484-3bc5-4b43-94db-39df0eee8d6b
      - name: id
        in: path
        required: true
        schema:
          type: string
        example: f6d91022-3c28-4959-a9bb-057594d8a930
      - name: school_id
        in: path
        required: true
        schema:
          type: string
        example: 05af8163-b0f2-4e7e-a489-4cae43f82f00
      responses:
        '204':
          description: responds 204 No Content when the user is the class teacher
        '401':
          description: responds 401 Unauthorized when no token is given
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: string
                required:
                - error
              example:
                error: Unauthorized
        '403':
          description: responds 403 Forbidden when the user is a school-student
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: string
                required:
                - error
              example:
                error: 'CanCan::AccessDenied: You are not authorized to access this
                  page.'
  "/api/schools/{school_id}/classes/{id}":
    delete:
      summary: destroy
      tags:
      - Api::SchoolClass
      parameters:
      - name: Authorization
        in: header
        required: true
        schema:
          type: string
        example: fake-user-access-token
      - name: id
        in: path
        required: true
        schema:
          type: string
        example: 1b06e739-30cc-41e7-abca-fab16da08d8b
      - name: school_id
        in: path
        required: true
        schema:
          type: string
        example: f73bd0e2-a5df-4fb0-b717-361a2fa223c2
      responses:
        '204':
          description: responds 204 No Content when the user is the class teacher
        '401':
          description: responds 401 Unauthorized when no token is given
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: string
                required:
                - error
              example:
                error: Unauthorized
        '403':
          description: responds 403 Forbidden when the user is a school-owner for
            a different school
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: string
                required:
                - error
              example:
                error: 'CanCan::AccessDenied: You are not authorized to access this
                  page.'
    get:
      summary: show
      tags:
      - Api::SchoolClass
      parameters:
      - name: Authorization
        in: header
        required: true
        schema:
          type: string
        example: fake-user-access-token
      - name: id
        in: path
        required: true
        schema:
          type: string
        example: 957b9117-1626-4e3e-beaa-5d10eeb95304
      - name: school_id
        in: path
        required: true
        schema:
          type: string
        example: 8f5afda7-e4bb-4353-8932-0a32341384e4
      responses:
        '200':
          description: responds with nil attributes for the teacher if their user
            profile doesn't exist
          content:
            application/json:
              schema:
                type: object
                properties:
                  id:
                    type: string
                  description:
                    nullable: true
                  school_id:
                    type: string
                  name:
                    type: string
                  code:
                    type: string
                  created_at:
                    type: string
                  updated_at:
                    type: string
                  import_origin:
                    nullable: true
                  import_id:
                    nullable: true
                  teachers:
                    type: array
                    items:
                      type: object
                      properties:
                        id:
                          type: string
                        name:
                          type: string
                        type:
                          type: string
                      required:
                      - id
                      - name
                      - type
                required:
                - id
                - description
                - school_id
                - name
                - code
                - created_at
                - updated_at
                - import_origin
                - import_id
                - teachers
              example:
                id: 386b06f7-46e4-42d1-8e06-475a4617f8c1
                description: 
                school_id: 5b95310c-0d23-45d6-8bae-ce3a8628fce1
                name: Test School Class
                code: 65-35-36
                created_at: '2025-11-27T08:56:12.611Z'
                updated_at: '2025-11-27T08:56:12.611Z'
                import_origin: 
                import_id: 
                teachers: []
        '401':
          description: responds 401 Unauthorized when no token is given
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: string
                required:
                - error
              example:
                error: Unauthorized
        '403':
          description: responds 403 Forbidden when the user is a school-owner for
            a different school
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: string
                required:
                - error
              example:
                error: 'CanCan::AccessDenied: You are not authorized to access this
                  page.'
        '404':
          description: responds 404 Not Found when no school class exists
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: string
                required:
                - error
              example:
                error: 'ActiveRecord::RecordNotFound: Couldn''t find SchoolClass with
                  ''id''="not-a-real-id" [WHERE "school_classes"."school_id" = $1]'
    put:
      summary: update
      tags:
      - Api::SchoolClass
      parameters:
      - name: Authorization
        in: header
        required: true
        schema:
          type: string
        example: fake-user-access-token
      - name: id
        in: path
        required: true
        schema:
          type: string
        example: 20f2e6fc-5354-4df6-9d1e-f2b7ba126306
      - name: school_id
        in: path
        required: true
        schema:
          type: string
        example: 36d2288c-7c14-4f0b-b7a6-78c83f6fe1a2
      requestBody:
        content:
          application/x-www-form-urlencoded:
            schema:
              type: object
              properties:
                school_class:
                  type: object
                  properties:
                    name:
                      type: string
                  required:
                  - name
              required:
              - school_class
            example:
              school_class:
                name: New Name
      responses:
        '200':
          description: responds with the teacher JSON
          content:
            application/json:
              schema:
                type: object
                properties:
                  id:
                    type: string
                  description:
                    nullable: true
                  school_id:
                    type: string
                  name:
                    type: string
                  code:
                    type: string
                  created_at:
                    type: string
                  updated_at:
                    type: string
                  import_origin:
                    nullable: true
                  import_id:
                    nullable: true
                  teachers:
                    type: array
                    items:
                      type: object
                      properties:
                        id:
                          type: string
                        name:
                          type: string
                        type:
                          type: string
                      required:
                      - id
                      - name
                      - type
                required:
                - id
                - description
                - school_id
                - name
                - code
                - created_at
                - updated_at
                - import_origin
                - import_id
                - teachers
              example:
                id: 20f2e6fc-5354-4df6-9d1e-f2b7ba126306
                description: 
                school_id: 36d2288c-7c14-4f0b-b7a6-78c83f6fe1a2
                name: New Name
                code: 65-08-48
                created_at: '2025-11-27T08:56:14.994Z'
                updated_at: '2025-11-27T08:56:15.005Z'
                import_origin: 
                import_id: 
                teachers:
                - id: 4bf85892-af90-44a4-81af-79737bb52ba4
                  name: School Teacher
                  type: teacher
        '400':
          description: responds 400 Bad Request when params are missing
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: string
                required:
                - error
              example:
                error: 'ActionController::ParameterMissing: param is missing or the
                  value is empty: school_class'
        '401':
          description: responds 401 Unauthorized when no token is given
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: string
                required:
                - error
              example:
                error: Unauthorized
        '403':
          description: responds 403 Forbidden when the user is a school-owner for
            a different school
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: string
                required:
                - error
              example:
                error: 'CanCan::AccessDenied: You are not authorized to access this
                  page.'
        '422':
          description: responds 422 Unprocessable Entity when params are invalid
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: string
                required:
                - error
              example:
                error: 'Error updating school class: Name can''t be blank'
  "/api/schools/{school_id}/members":
    get:
      summary: index
      tags:
      - Api::SchoolMember
      parameters:
      - name: Authorization
        in: header
        required: true
        schema:
          type: string
        example: fake-user-access-token
      - name: school_id
        in: path
        required: true
        schema:
          type: string
        example: 81db72ff-a174-4c81-abb8-645ec219178a
      responses:
        '200':
          description: responds with the expected teacher parameters
          content:
            application/json:
              schema:
                type: array
                items:
                  type: object
                  properties:
                    student:
                      type: object
                      properties:
                        id:
                          type: string
                        username:
                          type: string
                        name:
                          type: string
                        email:
                          nullable: true
                        sso_providers:
                          type: array
                          items: {}
                        type:
                          type: string
                      required:
                      - id
                      - username
                      - name
                      - email
                      - sso_providers
                      - type
                      nullable: true
                    teacher:
                      type: object
                      properties:
                        id:
                          type: string
                        name:
                          type: string
                        type:
                          type: string
                        email:
                          type: string
                      required:
                      - id
                      - name
                      - type
                      - email
                      nullable: true
                    owner:
                      type: object
                      properties:
                        id:
                          type: string
                        name:
                          type: string
                        type:
                          type: string
                        email:
                          type: string
                      required:
                      - id
                      - name
                      - type
                      - email
                      nullable: true
              example:
              - student:
                  id: 11e5ca5d-90aa-4a45-82fa-7ccddbf7abae
                  username: myrle.kovacek
                  name: Cecil Flatley
                  email: 
                  sso_providers: []
                  type: student
              - owner:
                  id: edf18bae-23fd-4595-b8df-dfd0edd1fd7d
                  name: Deshawn Corwin
                  type: owner
                  email: elias_wuckert@wilkinson.example
              - student:
                  id: 4bc8bd95-7071-4767-9b2b-45374999ad86
                  username: matthew_bahringer
                  name: Florencio Armstrong
                  email: 
                  sso_providers: []
                  type: student
              - student:
                  id: b4f9d269-dd6c-4f4d-a5b9-88fd8133f064
                  username: leland
                  name: Hung Huel
                  email: 
                  sso_providers: []
                  type: student
              - teacher:
                  id: 7d7ac71f-7c07-4cec-801a-e4327852bbcf
                  name: Msgr. Xiao O'Hara
                  type: teacher
                  email: cristobal_howell@bernier.example
        '401':
          description: responds 401 Unauthorized when no token is given
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: string
                required:
                - error
              example:
                error: Unauthorized
        '403':
          description: responds 403 Forbidden when the user is a school-student
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: string
                required:
                - error
              example:
                error: 'CanCan::AccessDenied: You are not authorized to access this
                  page.'
  "/api/schools/{school_id}/owners":
    get:
      summary: index
      tags:
      - Api::SchoolOwner
      parameters:
      - name: Authorization
        in: header
        required: true
        schema:
          type: string
        example: fake-user-access-token
      - name: school_id
        in: path
        required: true
        schema:
          type: string
        example: 796b446b-4766-470a-95d3-b2d0c2121e06
      responses:
        '200':
          description: responds 200 OK when the user is a school-teacher
          content:
            application/json:
              schema:
                type: array
                items:
                  type: object
                  properties:
                    id:
                      type: string
                    name:
                      type: string
                    type:
                      type: string
                    email:
                      type: string
                  required:
                  - id
                  - name
                  - type
                  - email
              example:
              - id: 37d068b1-161f-4ecd-a524-df1d11c57553
                name: School Owner
                type: owner
                email: marylouise_bahringer@schmeler.test
        '401':
          description: responds 401 Unauthorized when no token is given
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: string
                required:
                - error
              example:
                error: Unauthorized
        '403':
          description: responds 403 Forbidden when the user is a school-owner for
            a different school
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: string
                required:
                - error
              example:
                error: 'CanCan::AccessDenied: You are not authorized to access this
                  page.'
  "/api/schools/{school_id}/students":
    get:
      summary: index
      tags:
      - Api::SchoolStudent
      parameters:
      - name: Authorization
        in: header
        required: true
        schema:
          type: string
        example: fake-user-access-token
      - name: school_id
        in: path
        required: true
        schema:
          type: string
        example: 2d2c62bf-4660-4568-ba1a-30d7ded65a9e
      responses:
        '200':
          description: creates the school owner safeguarding flag
          content:
            application/json:
              schema:
                type: array
                items:
                  type: object
                  properties:
                    id:
                      type: string
                    username:
                      type: string
                      nullable: true
                    name:
                      type: string
                    email:
                      nullable: true
                    sso_providers:
                      type: array
                      items: {}
                    type:
                      type: string
                  required:
                  - id
                  - username
                  - name
                  - email
                  - sso_providers
                  - type
              example:
              - id: bc43f9ef-2901-4d87-9199-d0ff91576e79
                username: geraldo
                name: Enedina Adams
                email: 
                sso_providers: []
                type: student
              - id: 862f4e7c-edd1-4de7-a2d6-7557bb45fe28
                username: jospeh_mohr
                name: Rep. Ivory Schiller
                email: 
                sso_providers: []
                type: student
              - id: 38d75fcf-559b-41e5-a145-9170c4d74d81
                username: larhonda.fahey
                name: Ms. Ramonita Kutch
                email: 
                sso_providers: []
                type: student
        '401':
          description: responds 401 Unauthorized when no token is given
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: string
                required:
                - error
              example:
                error: Unauthorized
        '403':
          description: responds 403 Forbidden when the user is a school-student
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: string
                required:
                - error
              example:
                error: 'CanCan::AccessDenied: You are not authorized to access this
                  page.'
    post:
      summary: create
      tags:
      - Api::SchoolStudent
      parameters:
      - name: Authorization
        in: header
        required: true
        schema:
          type: string
        example: fake-user-access-token
      - name: school_id
        in: path
        required: true
        schema:
          type: string
        example: fede3d0c-00fe-41c1-8f6e-0d18c693c795
      responses:
        '204':
          description: does not create the school teacher safeguarding flag
        '400':
          description: responds 400 Bad Request when params are missing
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: string
                required:
                - error
              example:
                error: 'ActionController::ParameterMissing: param is missing or the
                  value is empty: school_student'
        '401':
          description: responds 401 Unauthorized when no token is given
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: string
                required:
                - error
              example:
                error: Unauthorized
        '403':
          description: responds 403 Forbidden when the user is a school-student
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: string
                required:
                - error
              example:
                error: 'CanCan::AccessDenied: You are not authorized to access this
                  page.'
        '422':
          description: responds 422 Unprocessable Entity when params are invalid
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: string
                required:
                - error
              example:
                error: 'param is missing or the value is empty: password'
      requestBody:
        content:
          application/x-www-form-urlencoded:
            schema:
              type: object
              properties:
                school_student:
                  type: object
                  properties:
                    username:
                      type: string
                    password:
                      type: string
                    name:
                      type: string
                  required:
                  - username
                  - password
                  - name
              required:
              - school_student
            example:
              school_student:
                username: student123
                password: SaoXlDBAyiAFoMH3VsddhdA7JWnM8P8by1wOjBUWH2g=
                name: School Student
  "/api/schools/{school_id}/students/batch":
    post:
      summary: create_batch
      tags:
      - Api::SchoolStudent
      parameters:
      - name: Authorization
        in: header
        required: true
        schema:
          type: string
        example: fake-user-access-token
      - name: school_id
        in: path
        required: true
        schema:
          type: string
        example: 5b75014c-c193-4565-9f77-8f4de8850082
      requestBody:
        content:
          application/x-www-form-urlencoded:
            schema:
              type: object
              properties:
                school_students:
                  type: array
                  items:
                    type: object
                    properties:
                      username:
                        type: string
                      password:
                        type: string
                      name:
                        type: string
                    required:
                    - username
                    - password
                    - name
              required:
              - school_students
            example:
              school_students:
              - username: student-to-create
                password: SaoXlDBAyiAFoMH3VsddhdA7JWnM8P8by1wOjBUWH2g=
                name: School Student
              - username: second-student-to-create
                password: SaoXlDBAyiAFoMH3VsddhdA7JWnM8P8by1wOjBUWH2g=
                name: School Student 2
      responses:
        '202':
          description: creates the school owner safeguarding flag
          content:
            application/json:
              schema:
                type: object
                properties:
                  job_id:
                    type: string
                required:
                - job_id
              example:
                job_id: fdddf612-ea10-4ff7-852a-41d482dcebf8
        '401':
          description: responds 401 Unauthorized when no token is given
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: string
                required:
                - error
              example:
                error: Unauthorized
        '403':
          description: responds 403 Forbidden when the user is a school-student
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: string
                required:
                - error
              example:
                error: 'CanCan::AccessDenied: You are not authorized to access this
                  page.'
        '422':
          description: responds 422 Unprocessable Entity when params are invalid
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: string
                    properties:
                      student-to-create:
                        type: array
                        items:
                          type: string
                      another-student-to-create-2:
                        type: array
                        items:
                          type: string
                    required:
                    - student-to-create
                    - another-student-to-create-2
                  error_type:
                    type: string
                required:
                - error
                - error_type
              example:
                error: StandardError
                error_type: unprocessable_entity
  "/api/schools/{school_id}/students/{id}":
    delete:
      summary: destroy
      tags:
      - Api::SchoolStudent
      parameters:
      - name: Authorization
        in: header
        required: true
        schema:
          type: string
        example: fake-user-access-token
      - name: id
        in: path
        required: true
        schema:
          type: string
        example: 28819e53-a0c9-42dc-96ba-887f92e329e0
      - name: school_id
        in: path
        required: true
        schema:
          type: string
        example: de74fa56-3a22-46e8-ba2e-2e9e66f394e5
      responses:
        '204':
          description: does not create the school teacher safeguarding flag
        '401':
          description: responds 401 Unauthorized when no token is given
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: string
                required:
                - error
              example:
                error: Unauthorized
        '403':
          description: responds 403 Forbidden when the user is a school-student
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: string
                required:
                - error
              example:
                error: 'CanCan::AccessDenied: You are not authorized to access this
                  page.'
    put:
      summary: update
      tags:
      - Api::SchoolStudent
      parameters:
      - name: Authorization
        in: header
        required: true
        schema:
          type: string
        example: fake-user-access-token
      - name: id
        in: path
        required: true
        schema:
          type: string
        example: eca77d4c-d2f0-4a13-8dee-0b9e3129910c
      - name: school_id
        in: path
        required: true
        schema:
          type: string
        example: 25bd96db-5c0c-4dd8-beb6-d4746633d4ca
      requestBody:
        content:
          application/x-www-form-urlencoded:
            schema:
              type: object
              properties:
                school_student:
                  type: object
                  properties:
                    username:
                      type: string
                    password:
                      type: string
                    name:
                      type: string
                  required:
                  - username
                  - password
                  - name
              required:
              - school_student
            example:
              school_student:
                username: new-username
                password: SaoXlDBAyiAFoMH3VsddhdA7JWnM8P8by1wOjBUWH2g=
                name: New Name
      responses:
        '204':
          description: does not create the school teacher safeguarding flag
        '401':
          description: responds 401 Unauthorized when no token is given
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: string
                required:
                - error
              example:
                error: Unauthorized
        '403':
          description: responds 403 Forbidden when the user is a school-owner for
            a different school
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: string
                required:
                - error
              example:
                error: 'CanCan::AccessDenied: You are not authorized to access this
                  page.'
  "/api/schools/{school_id}/teachers":
    get:
      summary: index
      tags:
      - Api::SchoolTeacher
      parameters:
      - name: Authorization
        in: header
        required: true
        schema:
          type: string
        example: fake-user-access-token
      - name: school_id
        in: path
        required: true
        schema:
          type: string
        example: b29695e6-f51d-4531-aa82-d8ce8328103b
      responses:
        '200':
          description: responds 200 OK when the user is a school-teacher
          content:
            application/json:
              schema:
                type: array
                items:
                  type: object
                  properties:
                    id:
                      type: string
                    name:
                      type: string
                    type:
                      type: string
                    email:
                      type: string
                  required:
                  - id
                  - name
                  - type
                  - email
              example:
              - id: '052883c2-268e-4311-8783-99a3288b6650'
                name: Hyun Bode
                type: teacher
                email: kindra@hills-hand.test
        '401':
          description: responds 401 Unauthorized when no token is given
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: string
                required:
                - error
              example:
                error: Unauthorized
        '403':
          description: responds 403 Forbidden when the user is a school-owner for
            a different school
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: string
                required:
                - error
              example:
                error: 'CanCan::AccessDenied: You are not authorized to access this
                  page.'
    post:
      summary: create
      tags:
      - Api::SchoolTeacher
      parameters:
      - name: Authorization
        in: header
        required: true
        schema:
          type: string
        example: fake-user-access-token
      - name: school_id
        in: path
        required: true
        schema:
          type: string
        example: 2e8e35bf-291e-4391-972e-c844d17fe795
      requestBody:
        content:
          application/x-www-form-urlencoded:
            schema:
              type: object
              properties:
                school_teacher:
                  type: object
                  properties:
                    email_address:
                      type: string
                  required:
                  - email_address
              required:
              - school_teacher
            example:
              school_teacher:
                email_address: teacher-to-invite@example.com
      responses:
        '201':
          description: responds 201 Created
          content:
            text/html:
              schema:
                type: string
              example: ''
        '400':
          description: responds 400 Bad Request when params are missing
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: string
                required:
                - error
              example:
                error: 'ActionController::ParameterMissing: param is missing or the
                  value is empty: school_teacher'
        '401':
          description: responds 401 Unauthorized when no token is given
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: string
                required:
                - error
              example:
                error: Unauthorized
        '403':
          description: responds 403 Forbidden when the user is a school-owner for
            a different school
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: string
                required:
                - error
              example:
                error: 'CanCan::AccessDenied: You are not authorized to access this
                  page.'
        '422':
          description: responds 422 Unprocessable Entity when params are invalid
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: string
                required:
                - error
              example:
                error: 'Error inviting school teacher: Validation failed: Email address
                  ''invalid'' is invalid'
  "/api/teacher_invitations/{token}":
    get:
      summary: show
      tags:
      - Api::TeacherInvitation
      parameters:
      - name: Authorization
        in: header
        required: true
        schema:
          type: string
        example: fake-user-access-token
      - name: token
        in: path
        required: true
        schema:
          type: string
        example: fake-token
      responses:
        '200':
          description: includes school name in response
          content:
            application/json:
              schema:
                type: object
                properties:
                  school_name:
                    type: string
                required:
                - school_name
              example:
                school_name: School 234
        '401':
          description: responds 401 Unauthorized
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: string
                required:
                - error
              example:
                error: Unauthorized
        '403':
          description: includes error message in response
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: string
                required:
                - error
              example:
                error: Invitation email does not match user email
        '404':
          description: responds 404 Not Found
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: string
                required:
                - error
              example:
                error: 'ActiveRecord::RecordNotFound: Couldn''t find TeacherInvitation
                  without an ID'
  "/api/teacher_invitations/{token}/accept":
    put:
      summary: accept
      tags:
      - Api::TeacherInvitation
      parameters:
      - name: Authorization
        in: header
        required: true
        schema:
          type: string
        example: fake-user-access-token
      - name: token
        in: path
        required: true
        schema:
          type: string
        example: eyJfcmFpbHMiOnsiZGF0YSI6W251bGwsInRlYWNoZXJAZXhhbXBsZS5jb20iXSwiZXhwIjoiMjAyNS0xMi0yN1QwODo1NjoxMC4zMzJaIiwicHVyIjoiVGVhY2hlckludml0YXRpb25cbnRlYWNoZXJfaW52aXRhdGlvblxuMjU5MjAwMCJ9fQ==--578dfb0924efe28ad306bc10e00dc1a5afad7687
      responses:
        '200':
          description: responds 200 OK
          content:
            text/html:
              schema:
                type: string
              example: ''
        '401':
          description: responds 401 Unauthorized
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: string
                required:
                - error
              example:
                error: Unauthorized
        '403':
          description: responds 403 Forbidden
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: string
                required:
                - error
              example:
                error: 'ActiveSupport::MessageVerifier::InvalidSignature: ActiveSupport::MessageVerifier::InvalidSignature'
        '404':
          description: responds 404 Not Found
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: string
                required:
                - error
              example:
                error: 'ActiveRecord::RecordNotFound: Couldn''t find TeacherInvitation
                  without an ID'
        '422':
          description: does not set the accepted_at timestamp on the invitation
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: object
                    properties:
                      base:
                        type: array
                        items:
                          type: string
                    required:
                    - base
                required:
                - error
              example:
                error:
                  base:
                  - Cannot create role as this user already has a role in a different
                    school
      requestBody:
        content:
          application/x-www-form-urlencoded:
            schema:
              type: object
              properties: {}
            example: {}
  "/api/user_jobs":
    get:
      summary: index
      tags:
      - Api::UserJob
      parameters:
      - name: Authorization
        in: header
        required: true
        schema:
          type: string
        example: fake-user-access-token
      responses:
        '200':
          description: responds with a list of jobs
          content:
            application/json:
              schema:
                type: object
                properties:
                  jobs:
                    type: array
                    items:
                      type: object
                      properties:
                        id:
                          type: string
                        concurrency_key:
                          type: string
                        status:
                          type: string
                        finished_at:
                          nullable: true
                      required:
                      - id
                      - concurrency_key
                      - status
                      - finished_at
                required:
                - jobs
              example:
                jobs:
                - id: 7c576ad2-f339-442b-ab7a-aa36ff51111a
                  concurrency_key: 2b6f22ee-2734-4a28-9c1f-c13840b0f0ee
                  status: queued
                  finished_at: 
        '401':
          description: responds 401 Unauthorized when no token is given
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: string
                required:
                - error
              example:
                error: Unauthorized
  "/api/user_jobs/{id}":
    get:
      summary: show
      tags:
      - Api::UserJob
      parameters:
      - name: Authorization
        in: header
        required: true
        schema:
          type: string
        example: fake-user-access-token
      - name: id
        in: path
        required: true
        schema:
          type: string
        example: f16ed760-8a62-4335-b734-faebece7fe2a
      responses:
        '200':
          description: responds with the expected job
          content:
            application/json:
              schema:
                type: object
                properties:
                  job:
                    type: object
                    properties:
                      id:
                        type: string
                      concurrency_key:
                        type: string
                      status:
                        type: string
                      finished_at:
                        nullable: true
                    required:
                    - id
                    - concurrency_key
                    - status
                    - finished_at
                required:
                - job
              example:
                job:
                  id: f16ed760-8a62-4335-b734-faebece7fe2a
                  concurrency_key: 628e04d0-6369-4c8a-88b6-833541bab29c
                  status: queued
                  finished_at: 
components:
  securitySchemes:
    bearer_auth:
      type: http
      scheme: bearer
      description: 'Hydra API token via Authorization: Bearer <token>'
